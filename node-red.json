[
    {
        "id": "454112e017632028",
        "type": "tab",
        "label": "SLAVE",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "15aaaa011d32e4f8",
        "type": "tab",
        "label": "Automatic",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e8cbc43ee4b06972",
        "type": "tab",
        "label": "Manual",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "48abbfe5ea35d160",
        "type": "tab",
        "label": "TEST",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6461f8ecab2fd558",
        "type": "tab",
        "label": "About",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "671684f35d427a15",
        "type": "tab",
        "label": "Ngrok_url",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "522db9cc3c903c3e",
        "type": "tab",
        "label": "Flow 2",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f395c43f6f7c28c6",
        "type": "tab",
        "label": "Flow 3",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f981d8724eca6398",
        "type": "tab",
        "label": "Flow 4",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "0f8569b63939f001",
        "type": "tab",
        "label": "Flow 5",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b7fadf2d62e71994",
        "type": "tab",
        "label": "Flow 6",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3e929b10502c3829",
        "type": "tab",
        "label": "Flow 1",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "abb6e36c56d4673f",
        "type": "serial-port",
        "serialport": "/dev/ttyACM0",
        "serialbaud": "9600",
        "databits": "8",
        "parity": "none",
        "stopbits": "1",
        "waitfor": "",
        "dtr": "none",
        "rts": "none",
        "cts": "none",
        "dsr": "none",
        "newline": "\\n",
        "bin": "false",
        "out": "char",
        "addchar": "",
        "responsetimeout": "10000"
    },
    {
        "id": "d647e823d3dcf27a",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Trường Đại Học Sư Phạm Kỹ Thuật TPHCM",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "f033628c.9c7ce",
        "type": "ui_group",
        "name": "Change Tabs",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "8",
        "collapse": false
    },
    {
        "id": "d22b2e99547107cb",
        "type": "ui_group",
        "name": "Switch Mode",
        "tab": "b4da19acabe26350",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "fefa83232b74a478",
        "type": "ui_group",
        "name": "Level",
        "tab": "b4da19acabe26350",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "85579c9522859bec",
        "type": "ui_group",
        "name": "Control",
        "tab": "b4da19acabe26350",
        "order": 2,
        "disp": true,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "1c67a074.861f4",
        "type": "ui_group",
        "name": "Default",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6"
    },
    {
        "id": "a87dcc79ad3b7f06",
        "type": "ui_spacer",
        "z": "15aaaa011d32e4f8",
        "name": "spacer",
        "group": "d22b2e99547107cb",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "c9d9069290d891bf",
        "type": "ui_group",
        "name": "Control",
        "tab": "c4cbf184be044e84",
        "order": 2,
        "disp": true,
        "width": "8",
        "collapse": false,
        "className": ""
    },
    {
        "id": "6ff86997e5986564",
        "type": "ui_group",
        "name": "Setting",
        "tab": "c4cbf184be044e84",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "cc933cc597e32031",
        "type": "ui_group",
        "name": "Switch Mode",
        "tab": "c4cbf184be044e84",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d5d846b732e85980",
        "type": "ui_spacer",
        "z": "15aaaa011d32e4f8",
        "name": "spacer",
        "group": "cc933cc597e32031",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "aa290a8b22472da0",
        "type": "ui_tab",
        "name": "About",
        "icon": "dashboard",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "d6a31c55764797d6",
        "type": "ui_group",
        "name": "QR CODE",
        "tab": "c63bab3.e433ad8",
        "order": 2,
        "disp": true,
        "width": "13",
        "collapse": false,
        "className": ""
    },
    {
        "id": "a73c0688.26bac8",
        "type": "ui_group",
        "name": "Bits",
        "tab": "",
        "order": 4,
        "disp": false,
        "width": "25",
        "collapse": false
    },
    {
        "id": "47420d853ed9ee7f",
        "type": "serial-port",
        "serialport": "/dev/ttyACM1",
        "serialbaud": "9600",
        "databits": "8",
        "parity": "none",
        "stopbits": "1",
        "waitfor": "",
        "dtr": "none",
        "rts": "none",
        "cts": "none",
        "dsr": "none",
        "newline": "\\n",
        "bin": "false",
        "out": "char",
        "addchar": "",
        "responsetimeout": "10000"
    },
    {
        "id": "d54a0c8f9bb02d20",
        "type": "ui_group",
        "name": "Target",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "921524c65c4b6c1f",
        "type": "ui_group",
        "name": "svg",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "13",
        "collapse": false,
        "className": ""
    },
    {
        "id": "23b16fbe.b0541",
        "type": "ui_group",
        "name": "test",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "95c5d2ef.84601",
        "type": "ui_group",
        "name": "Home Floor Plan",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "15",
        "collapse": false
    },
    {
        "id": "925439b0.2863c8",
        "type": "ui_group",
        "name": "svg-panning-test",
        "tab": "",
        "order": 4,
        "disp": true,
        "width": "11",
        "collapse": false,
        "className": ""
    },
    {
        "id": "28a39865.fa3608",
        "type": "ui_group",
        "name": "Default",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "d4b5416a.9c25f",
        "type": "ui_group",
        "name": "Floorplan test",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "14",
        "collapse": false
    },
    {
        "id": "5cfe21d2.307938",
        "type": "ui_group",
        "name": "Gate #2",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "fdb6c31c.4f2818",
        "type": "ui_group",
        "name": "Gate #1",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "951f63e6.78df",
        "type": "ui_group",
        "name": "Garage",
        "tab": "",
        "order": 2,
        "disp": false,
        "width": "10"
    },
    {
        "id": "c63bab3.e433ad8",
        "type": "ui_tab",
        "name": "Home",
        "icon": "dashboard",
        "order": 4,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "a07824d3.1fe8b8",
        "type": "ui_group",
        "name": "Sensor",
        "tab": "5d86edbf.ced464",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "5d86edbf.ced464",
        "type": "ui_tab",
        "name": "Übersicht",
        "icon": "dashboard",
        "order": 5
    },
    {
        "id": "3ad2bc4a7ed3c9a3",
        "type": "ui_group",
        "name": "Default",
        "tab": "22c859d636852368",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "22c859d636852368",
        "type": "ui_tab",
        "name": "Away",
        "icon": "dashboard",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "c4cbf184be044e84",
        "type": "ui_tab",
        "name": "MANUAL",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "b4da19acabe26350",
        "type": "ui_tab",
        "name": "Automatic",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "b2adce65b977bdcf",
        "type": "ui_group",
        "name": "Students",
        "tab": "aa290a8b22472da0",
        "order": 1,
        "disp": true,
        "width": "12",
        "collapse": false,
        "className": ""
    },
    {
        "id": "118c33db3cc4d1ae",
        "type": "ui_tab",
        "name": "Tab 7",
        "icon": "dashboard",
        "order": 7
    },
    {
        "id": "cf62ca72cff30739",
        "type": "ui_spacer",
        "z": "15aaaa011d32e4f8",
        "name": "spacer",
        "group": "fefa83232b74a478",
        "order": 1,
        "width": 1,
        "height": 1
    },
    {
        "id": "f3e33b6c52f92596",
        "type": "inject",
        "z": "454112e017632028",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "C",
        "payloadType": "str",
        "x": 990,
        "y": 560,
        "wires": [
            [
                "474bb676b30ca8f0"
            ]
        ]
    },
    {
        "id": "474bb676b30ca8f0",
        "type": "serial out",
        "z": "454112e017632028",
        "name": "",
        "serial": "47420d853ed9ee7f",
        "x": 1220,
        "y": 440,
        "wires": []
    },
    {
        "id": "c9971d65cc7a425d",
        "type": "serial in",
        "z": "454112e017632028",
        "name": "",
        "serial": "47420d853ed9ee7f",
        "x": 250,
        "y": 380,
        "wires": [
            [
                "64f825741d56eb6c"
            ]
        ]
    },
    {
        "id": "64f825741d56eb6c",
        "type": "debug",
        "z": "454112e017632028",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 440,
        "wires": []
    },
    {
        "id": "8b22fc2579c74b17",
        "type": "serial out",
        "z": "454112e017632028",
        "name": "",
        "serial": "abb6e36c56d4673f",
        "x": 1120,
        "y": 60,
        "wires": []
    },
    {
        "id": "649655b6651477ac",
        "type": "inject",
        "z": "454112e017632028",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "X360",
        "payloadType": "str",
        "x": 170,
        "y": 80,
        "wires": [
            [
                "8b22fc2579c74b17"
            ]
        ]
    },
    {
        "id": "85d8b40509105767",
        "type": "inject",
        "z": "454112e017632028",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Y0",
        "payloadType": "str",
        "x": 170,
        "y": 120,
        "wires": [
            [
                "8b22fc2579c74b17"
            ]
        ]
    },
    {
        "id": "888b59e5e587f3d7",
        "type": "link in",
        "z": "454112e017632028",
        "name": "in_step",
        "links": [
            "9bed371e8b52c6a3",
            "d24b92b1169d46f9",
            "f9dad9fe657be9d9",
            "964750e096db678e",
            "aa1cad72e0daba64"
        ],
        "x": 275,
        "y": 40,
        "wires": [
            [
                "133368be36bd7a18"
            ]
        ]
    },
    {
        "id": "f307ba54597431fe",
        "type": "inject",
        "z": "454112e017632028",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Z0",
        "payloadType": "str",
        "x": 170,
        "y": 160,
        "wires": [
            [
                "8b22fc2579c74b17"
            ]
        ]
    },
    {
        "id": "34aaf188fc70aeac",
        "type": "inject",
        "z": "454112e017632028",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Z-1",
        "payloadType": "str",
        "x": 170,
        "y": 200,
        "wires": [
            [
                "8b22fc2579c74b17"
            ]
        ]
    },
    {
        "id": "6d4b80a84b643bb8",
        "type": "inject",
        "z": "454112e017632028",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Z-2",
        "payloadType": "str",
        "x": 170,
        "y": 240,
        "wires": [
            [
                "8b22fc2579c74b17"
            ]
        ]
    },
    {
        "id": "bab728439448bc68",
        "type": "inject",
        "z": "454112e017632028",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Z-7",
        "payloadType": "str",
        "x": 170,
        "y": 280,
        "wires": [
            [
                "8b22fc2579c74b17"
            ]
        ]
    },
    {
        "id": "c1fc05eaa091ba0d",
        "type": "inject",
        "z": "454112e017632028",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Z20",
        "payloadType": "str",
        "x": 170,
        "y": 320,
        "wires": [
            [
                "8b22fc2579c74b17"
            ]
        ]
    },
    {
        "id": "3e852b8cf0234dbd",
        "type": "function",
        "z": "454112e017632028",
        "name": "set vitri",
        "func": "global.set(\"vitri\",0);\nnode.status({fill:\"green\",shape:\"dot\",text:\"vitri: 0\"});\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "3b01cc94543a99e1",
        "type": "inject",
        "z": "454112e017632028",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 260,
        "y": 500,
        "wires": [
            [
                "3e852b8cf0234dbd"
            ]
        ]
    },
    {
        "id": "0e5c6fe5ded2b10d",
        "type": "function",
        "z": "454112e017632028",
        "name": "vitri",
        "func": "var vitri = global.get(\"vitri\");\nnode.status({fill:\"green\",shape:\"dot\",text:\"vitri: \"+ vitri.toString()});\n\nvar begin = 0;\nvar end = 10;\n\nvar vitrimoi = msg.vitrimoi;\nvar quangduong;\nif (vitrimoi>vitri){\n    quangduong = vitrimoi-vitri;\n}else if(vitrimoi<vitri){\n    quangduong = -(vitri - vitrimoi);\n}\nglobal.set(\"vitri\",vitrimoi);\nmsg.payload= quangduong;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 560,
        "wires": [
            [
                "0042907e75d97fea"
            ]
        ]
    },
    {
        "id": "36659df87afdc161",
        "type": "inject",
        "z": "454112e017632028",
        "name": "",
        "props": [
            {
                "p": "vitrimoi",
                "v": "0",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 270,
        "y": 560,
        "wires": [
            [
                "0e5c6fe5ded2b10d"
            ]
        ]
    },
    {
        "id": "0042907e75d97fea",
        "type": "debug",
        "z": "454112e017632028",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 560,
        "wires": []
    },
    {
        "id": "0c1e83c7fc23ddae",
        "type": "inject",
        "z": "454112e017632028",
        "name": "5",
        "props": [
            {
                "p": "vitrimoi",
                "v": "5",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 270,
        "y": 620,
        "wires": [
            [
                "0e5c6fe5ded2b10d"
            ]
        ]
    },
    {
        "id": "2bc88b41984db805",
        "type": "inject",
        "z": "454112e017632028",
        "name": "10",
        "props": [
            {
                "p": "vitrimoi",
                "v": "10",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 270,
        "y": 680,
        "wires": [
            [
                "0e5c6fe5ded2b10d"
            ]
        ]
    },
    {
        "id": "8b647454a2a73056",
        "type": "inject",
        "z": "454112e017632028",
        "name": "3",
        "props": [
            {
                "p": "vitrimoi",
                "v": "3",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 270,
        "y": 740,
        "wires": [
            [
                "0e5c6fe5ded2b10d"
            ]
        ]
    },
    {
        "id": "f1d8b2a51c8cef4f",
        "type": "inject",
        "z": "454112e017632028",
        "name": "360",
        "props": [
            {
                "p": "vitrimoi",
                "v": "360",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 273.79998779296875,
        "y": 801,
        "wires": [
            [
                "0e5c6fe5ded2b10d"
            ]
        ]
    },
    {
        "id": "10120be690138762",
        "type": "inject",
        "z": "454112e017632028",
        "name": "720",
        "props": [
            {
                "p": "vitrimoi",
                "v": "720",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 250,
        "y": 880,
        "wires": [
            [
                "0e5c6fe5ded2b10d"
            ]
        ]
    },
    {
        "id": "9bb01c7d740833d5",
        "type": "link in",
        "z": "454112e017632028",
        "name": "in_servo",
        "links": [
            "010e833ada1c9fe0"
        ],
        "x": 925,
        "y": 460,
        "wires": [
            [
                "474bb676b30ca8f0"
            ]
        ]
    },
    {
        "id": "133368be36bd7a18",
        "type": "delay",
        "z": "454112e017632028",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "3",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 460,
        "y": 40,
        "wires": [
            [
                "8b22fc2579c74b17"
            ]
        ]
    },
    {
        "id": "3a82b835.c57d48",
        "type": "function",
        "z": "454112e017632028",
        "name": "Rate Limiter",
        "func": "var interval = (1000*60*10); // minimum interval between messages (ms)\ncontext.lastTime = context.lastTime || 0;\n\nvar now = Date.now();\n\nif (now-context.lastTime > interval) {\n  context.lastTime = now;\n  return msg;\n} else {\n  return null;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 720,
        "wires": [
            [
                "39d710cbc9223a85"
            ]
        ]
    },
    {
        "id": "b63fde5dcb18c1f4",
        "type": "inject",
        "z": "454112e017632028",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 460,
        "y": 640,
        "wires": [
            [
                "3a82b835.c57d48"
            ]
        ]
    },
    {
        "id": "39d710cbc9223a85",
        "type": "debug",
        "z": "454112e017632028",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 720,
        "wires": []
    },
    {
        "id": "830fb63a0abbc5fc",
        "type": "function",
        "z": "454112e017632028",
        "name": "",
        "func": "var arr = [];\nfor(var k = 0;k<4;k++){\n    arr.push(k);\n}\nmsg.payload = arr;\nmsg.limit = msg.payload.length;\nflow.set(\"counter\",0);\nmsg.counter = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 200,
        "wires": [
            [
                "40366b41b6ea9930"
            ]
        ]
    },
    {
        "id": "40366b41b6ea9930",
        "type": "split",
        "z": "454112e017632028",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 870,
        "y": 200,
        "wires": [
            [
                "d2b5600f15bf9e9b"
            ]
        ]
    },
    {
        "id": "d2b5600f15bf9e9b",
        "type": "delay",
        "z": "454112e017632028",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": true,
        "outputs": 1,
        "x": 1060,
        "y": 200,
        "wires": [
            [
                "88319a1adb78c26e",
                "bc37341fa4dc30f2"
            ]
        ]
    },
    {
        "id": "88319a1adb78c26e",
        "type": "function",
        "z": "454112e017632028",
        "name": "rate",
        "func": "if (typeof msg.payload !== \"undefined\") {\nif (msg.payload == 1){\n    msg = {};\n    msg.rate =10000;\n    return msg;\n}else if(msg.payload <4){\n    msg = {};\n    msg.rate =4000;\n    return msg;\n}\n}else{\n    msg.reset = true;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1070,
        "y": 280,
        "wires": [
            [
                "d2b5600f15bf9e9b"
            ]
        ]
    },
    {
        "id": "bc37341fa4dc30f2",
        "type": "function",
        "z": "454112e017632028",
        "name": "!== \"undefined\"",
        "func": "if (typeof msg.payload !== \"undefined\") {\n    flow.set(\"stop\",false);\n\n    return msg;\n\n}else{\n    flow.set(\"stop\",true);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1360,
        "y": 240,
        "wires": [
            [
                "8b22fc2579c74b17"
            ]
        ]
    },
    {
        "id": "04c24f5596bdc7a1",
        "type": "inject",
        "z": "454112e017632028",
        "name": "clear stack",
        "props": [
            {
                "p": "reset",
                "v": "true",
                "vt": "bool"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 730,
        "y": 280,
        "wires": [
            [
                "af0397e530dd6340"
            ]
        ]
    },
    {
        "id": "af0397e530dd6340",
        "type": "function",
        "z": "454112e017632028",
        "name": "stop",
        "func": "var stop = flow.get(\"stop\");\nif (stop==true){\nreturn msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 280,
        "wires": [
            [
                "d2b5600f15bf9e9b"
            ]
        ]
    },
    {
        "id": "7f5cb82e85583189",
        "type": "inject",
        "z": "454112e017632028",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Y-10",
        "payloadType": "str",
        "x": 370,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "c4b802918ba6ce06",
        "type": "inject",
        "z": "454112e017632028",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Y10",
        "payloadType": "str",
        "x": 950,
        "y": 140,
        "wires": [
            [
                "8b22fc2579c74b17"
            ]
        ]
    },
    {
        "id": "98a8f45ef342b40a",
        "type": "function",
        "z": "454112e017632028",
        "name": "test Y",
        "func": "var action = msg.action;\nvar cost_time = 0;\nvar rotate = [5,10,15,-5,-10,-15];\n\nvar y_axis = rotate[Math.floor(Math.random()*rotate.length)];\n\n       var vantoc_Y  = 20;\n       var vittricu_Y = global.get(\"vitri_Y\") || 0;\n\n       var vitrimoi_Y = y_axis;\n        global.set(\"vitri_Y\",vitrimoi_Y);\n\n       var quangduong_Y =  _quangduong(vitrimoi_Y,vittricu_Y);\n  \n       var thoigian_Y = Math.round(Math.abs(quangduong_Y)/ vantoc_Y);\n       cost_time+= thoigian_Y;\n        msg.cost_time_Y = thoigian_Y;\n       global.set(\"cost_time_Y\", thoigian_Y*1000);\n\nmsg.payload = \"Y\"+quangduong_Y.toString();\nnode.status({fill:\"red\",shape:\"ring\",text:\"payload: \"+msg.payload});\n if (msg.payload.indexOf(\"Y0\") == -1){\nreturn msg;\n}\n\n\n\nfunction getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\n}\n\n\nfunction _quangduong(vitrimoi,vitricu){\nvar quangduong;\nif (vitrimoi>=vitricu){\n    quangduong = vitrimoi-vitricu;\n}else if(vitrimoi<vitricu){\n    quangduong = -(vitricu - vitrimoi);\n}\nreturn quangduong;\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1070,
        "y": 360,
        "wires": [
            [
                "cd1bb6e5458a10bd"
            ]
        ]
    },
    {
        "id": "08dad6b0cd36f9db",
        "type": "function",
        "z": "454112e017632028",
        "name": "send ball",
        "func": "for( var k=0; k<10;k++){\n      setTimeout(function(){\n        node.send({payload: \"C\"});\n      }, 1000*k);\n      \n\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 360,
        "wires": [
            [
                "98a8f45ef342b40a"
            ]
        ]
    },
    {
        "id": "9956e7f898803a0d",
        "type": "inject",
        "z": "454112e017632028",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 680,
        "y": 360,
        "wires": [
            [
                "08dad6b0cd36f9db"
            ]
        ]
    },
    {
        "id": "cd1bb6e5458a10bd",
        "type": "debug",
        "z": "454112e017632028",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1330,
        "y": 360,
        "wires": []
    },
    {
        "id": "aeda4874add2fd1f",
        "type": "inject",
        "z": "454112e017632028",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "X700",
        "payloadType": "str",
        "x": 850,
        "y": 20,
        "wires": [
            [
                "8b22fc2579c74b17"
            ]
        ]
    },
    {
        "id": "ca1a2718e025e43c",
        "type": "ui_button",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "group": "d22b2e99547107cb",
        "order": 2,
        "width": "0",
        "height": "0",
        "passthru": false,
        "label": "Manual Mode",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "{\"tab\":\"MANUAL\"}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 180,
        "y": 280,
        "wires": [
            [
                "20a2f7944eaac367"
            ]
        ]
    },
    {
        "id": "68c17302f5876541",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "func": "if (msg.payload == true){\nmsg.payload = {\"group\":{\"show\":[\"CPANEL_Manual\"] , \"hide\":[\"CPANEL_Automatic\"]}};\n\n\n}else{\nmsg.payload = {\"group\":{\"hide\":[\"CPANEL_Manual\"],\"show\":[\"CPANEL_Automatic\"]}};\n\n\n  \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 380,
        "wires": [
            [
                "20a2f7944eaac367",
                "2d5785860ad3e7d1"
            ]
        ]
    },
    {
        "id": "20a2f7944eaac367",
        "type": "ui_ui_control",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "events": "all",
        "x": 640,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "e1db5d239d4b8884",
        "type": "ui_button",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "group": "cc933cc597e32031",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Automatic Mode",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "{\"tab\":\"Automatic\"}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 180,
        "y": 340,
        "wires": [
            [
                "20a2f7944eaac367"
            ]
        ]
    },
    {
        "id": "2d5785860ad3e7d1",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 360,
        "wires": []
    },
    {
        "id": "11fbd7a51c746976",
        "type": "inject",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 120,
        "wires": [
            [
                "52286512cbb6289c"
            ]
        ]
    },
    {
        "id": "52286512cbb6289c",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "hide all",
        "func": "msg.payload = {\"group\":{\"hide\":[\"CPANEL_Manual\"] , \"hide\":[\"CPANEL_Automatic\"]}};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 120,
        "wires": [
            [
                "20a2f7944eaac367"
            ]
        ]
    },
    {
        "id": "5c9787c6d282dac2",
        "type": "ui_dropdown",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "label": "<b>Your setting</b>",
        "tooltip": "",
        "place": "Select option",
        "group": "fefa83232b74a478",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Primary",
                "value": "Primary",
                "type": "str"
            },
            {
                "label": "Amateur",
                "value": "Amateur",
                "type": "str"
            },
            {
                "label": "Professionally",
                "value": "Professionally",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 100,
        "y": 680,
        "wires": [
            [
                "1989ac49166511af"
            ]
        ]
    },
    {
        "id": "aec489a4.36eb68",
        "type": "ui_template",
        "z": "15aaaa011d32e4f8",
        "group": "85579c9522859bec",
        "name": "PAUSE",
        "order": 3,
        "width": "2",
        "height": "2",
        "format": "\n<md-button class=\"vibrate filled touched bigfont rounded\" style=\"background-color:#2980b9\"   ng-click=\"send({payload: 'PAUSE'})\"> \n    PAUSE<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 740,
        "y": 520,
        "wires": [
            [
                "5f4788a1a5012117"
            ]
        ]
    },
    {
        "id": "1de5d67a.85003a",
        "type": "ui_template",
        "z": "15aaaa011d32e4f8",
        "group": "85579c9522859bec",
        "name": "STOP",
        "order": 2,
        "width": "2",
        "height": "2",
        "format": "\n<md-button class=\"vibrate filled touched bigfont rounded\" style=\"background-color:#c0392b\" ng-click=\"send({payload: 'STOP'})\"> \n    STOP<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 730,
        "y": 440,
        "wires": [
            [
                "0fa696ba6a2e8a3e",
                "5b8725b45229c0ac"
            ]
        ]
    },
    {
        "id": "7fca192a.7eb928",
        "type": "ui_template",
        "z": "15aaaa011d32e4f8",
        "group": "85579c9522859bec",
        "name": "Start",
        "order": 1,
        "width": "2",
        "height": "2",
        "format": "\n<md-button class=\"filled touched bigfont rounded vibrate\" style=\"background-color:#27ae60\" ng-click=\"send({payload: 'Start'})\"> \n    Start<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 730,
        "y": 480,
        "wires": [
            [
                "e4b923510efd0f9d",
                "36a2d3cfde20a557"
            ]
        ]
    },
    {
        "id": "22a5ea5e.7e2936",
        "type": "ui_template",
        "z": "15aaaa011d32e4f8",
        "group": "85579c9522859bec",
        "name": "css etc",
        "order": 5,
        "width": "0",
        "height": "0",
        "format": "<style>\n  .filled { \n      height: 100% !important;\n\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n  .nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n  \n  .rounded {\n  border-radius: 12px 12px 12px 12px;\n}\n \n   .bigfont {\n  font-size: 18px;\n}\n\n   .smallfont {\n  font-size: 12px;\n}\n  \n</style>\n\n<script>\n$('.vibrate').on('click', function() {\n  navigator.vibrate(100);\n});\n\nfunction restore_bg(x) {\n            $(this).css(\"background-color\", x);\n    };\n\n$('.touched').on('mousedown', function() {\n    \n    var x= $(this).css(\"background-color\");\n    $(this).css(\"background-color\", \"yellow\");\n    \n    setTimeout(restore_bg.bind(this,x),100);\n    navigator.vibrate(80);\n    });\n    \n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 180,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "0fa696ba6a2e8a3e",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 420,
        "wires": []
    },
    {
        "id": "e4b923510efd0f9d",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 460,
        "wires": []
    },
    {
        "id": "5f4788a1a5012117",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 540,
        "wires": []
    },
    {
        "id": "e983cf1990a65b7f",
        "type": "ui_template",
        "z": "15aaaa011d32e4f8",
        "group": "85579c9522859bec",
        "name": "Reset",
        "order": 4,
        "width": "2",
        "height": "2",
        "format": "\n<md-button class=\"vibrate filled touched bigfont rounded\" style=\"background-color:#16cbf0\"   ng-click=\"send({payload: 'Hello World'})\"> \n    Reset<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 730,
        "y": 560,
        "wires": [
            [
                "5f4788a1a5012117",
                "117550c86d9ead8b"
            ]
        ]
    },
    {
        "id": "9490af786e046b5b",
        "type": "switch",
        "z": "15aaaa011d32e4f8",
        "name": "Mode route",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Primary",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Amateur",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Professionally",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 490,
        "y": 680,
        "wires": [
            [
                "9e4187ccf4bdc63d"
            ],
            [
                "3852bca5605542cc"
            ],
            [
                "77c949e3f7f7de24"
            ]
        ]
    },
    {
        "id": "9e4187ccf4bdc63d",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "Primary",
        "func": "\n\nvar position = [\"Middle\"];\nvar corner = [10];\nvar rotate = [100,200,300];\nvar x_axis = position[Math.floor(Math.random()*position.length)];\nvar z_axis = corner[Math.floor(Math.random()*corner.length)];\nvar y_axis = rotate[Math.floor(Math.random()*rotate.length)];\n\nmsg.x_axis = x_axis;\nmsg.z_axis = z_axis;\nmsg.y_axis = y_axis;\nmsg.payload = {x_axis:x_axis,y_axis:y_axis,z_axis:z_axis};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 620,
        "wires": [
            [
                "990ca1b273211297"
            ]
        ]
    },
    {
        "id": "3852bca5605542cc",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "Amateur",
        "func": "\n\nvar position = [\"Left\",\"Right\",\"Middle\"];\nvar corner = [4,8,12,16,20];\nvar rotate = [100,200,300,-100,-200,-300];\nvar x_axis = position[Math.floor(Math.random()*position.length)];\nvar z_axis = corner[Math.floor(Math.random()*corner.length)];\nvar y_axis = rotate[Math.floor(Math.random()*rotate.length)];\n\nmsg.x_axis = x_axis;\nmsg.z_axis = z_axis;\nmsg.y_axis = y_axis;\nmsg.payload = {x_axis:x_axis,y_axis:y_axis,z_axis:z_axis};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 680,
        "wires": [
            [
                "990ca1b273211297"
            ]
        ]
    },
    {
        "id": "77c949e3f7f7de24",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "Professionally",
        "func": "\n\nvar position = [\"Left\",\"Right\",\"Middle\"];\nvar corner = [4,8,12,16,20];\nvar rotate = [100,200,300,-100,-200,-300];\nvar x_axis = position[Math.floor(Math.random()*position.length)];\nvar z_axis = corner[Math.floor(Math.random()*corner.length)];\nvar y_axis = rotate[Math.floor(Math.random()*rotate.length)];\n\nmsg.x_axis = x_axis;\nmsg.z_axis = z_axis;\nmsg.y_axis = y_axis;\nmsg.payload = {x_axis:x_axis,y_axis:y_axis,z_axis:z_axis};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 740,
        "wires": [
            [
                "bc28343dc64bfc36",
                "990ca1b273211297"
            ]
        ]
    },
    {
        "id": "2adb3c7d53e4e645",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "fake generate",
        "func": "\nvar mysetting = [];\n\nmysetting[0] = {};\nmysetting[0].speed = 1;\nmysetting[0].posstion = 1;\nmysetting[0].corner  = 1; // truc Z Xoay\nmysetting[0].rotate  = 1; // truc Y Xoay\n\nmysetting[1] = {};\nmysetting[1].speed = getRandomIntInclusive(1, 2);\nmysetting[1].posstion =  getRandomIntInclusive(1, 2);\nmysetting[1].corner  = 2;  // truc Z Xoay\nmysetting[0].rotate  = 1; // truc Y Xoay\n\n\nmysetting[2] = {};\nmysetting[2].speed = getRandomIntInclusive(1, 2);\nmysetting[2].posstion = getRandomIntInclusive(1, 3);\nmysetting[2].corner  = 4; // truc Z Xoay\nmysetting[2].rotate  = 3; // truc Y Xoay\n\nreturn msg;\n\n//posstion[Math.floor(Math.random()*posstion.length)];\n\nfunction getRandomIntInclusive(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1) + min); //The maximum is inclusive and the minimum is inclusive\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "bc28343dc64bfc36",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 680,
        "wires": []
    },
    {
        "id": "044720f6d99479ce",
        "type": "ui_text",
        "z": "15aaaa011d32e4f8",
        "group": "d54a0c8f9bb02d20",
        "order": 0,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Target",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "x": 1170,
        "y": 800,
        "wires": []
    },
    {
        "id": "990ca1b273211297",
        "type": "json",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 720,
        "wires": [
            [
                "044720f6d99479ce"
            ]
        ]
    },
    {
        "id": "1989ac49166511af",
        "type": "rbe",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 290,
        "y": 680,
        "wires": [
            [
                "9490af786e046b5b",
                "0f221e4cac107d1b"
            ]
        ]
    },
    {
        "id": "117550c86d9ead8b",
        "type": "link out",
        "z": "15aaaa011d32e4f8",
        "name": "Out_reset",
        "mode": "link",
        "links": [
            "d1a4f7b862fe8aca"
        ],
        "x": 935,
        "y": 920,
        "wires": []
    },
    {
        "id": "4c04acd789faa870",
        "type": "ui_numeric",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "label": "<b>Loop</b>",
        "tooltip": "Loop limit",
        "group": "fefa83232b74a478",
        "order": 2,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "format": "{{value}}",
        "min": "1",
        "max": 10,
        "step": 1,
        "className": "",
        "x": 190,
        "y": 480,
        "wires": [
            [
                "d781a0fabbbdbdb5"
            ]
        ]
    },
    {
        "id": "d09f817a666e78bb",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "Professionally next",
        "func": "\n\nvar position = msg.position;\nvar corner = [4,8,12,16,20];\nvar rotate = [100,200,300,-100,-200,-300];\nvar x_axis = position[Math.floor(Math.random()*position.length)];\nvar z_axis = corner[Math.floor(Math.random()*corner.length)];\nvar y_axis = rotate[Math.floor(Math.random()*rotate.length)];\n\nmsg.x_axis = x_axis;\nmsg.z_axis = z_axis;\nmsg.y_axis = y_axis;\nmsg.payload = {x_axis:x_axis,y_axis:y_axis,z_axis:z_axis};\nmsg.delay = getRandomInt(6000, 7000);\n\nreturn msg;\nfunction getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1250,
        "y": 3900,
        "wires": [
            [
                "c11098030d3063fc",
                "2504fb1f39b3f5ea"
            ]
        ]
    },
    {
        "id": "c11098030d3063fc",
        "type": "delay",
        "z": "15aaaa011d32e4f8",
        "name": "delay",
        "pauseType": "delayv",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "5",
        "randomLast": "10",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1690,
        "y": 3800,
        "wires": [
            [
                "b1eeedf695b8c117",
                "7758e01b4516a510",
                "a164be1298b66cc2"
            ]
        ]
    },
    {
        "id": "b1eeedf695b8c117",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1870,
        "y": 3900,
        "wires": []
    },
    {
        "id": "5b8725b45229c0ac",
        "type": "link out",
        "z": "15aaaa011d32e4f8",
        "name": "out_stop",
        "mode": "link",
        "links": [
            "05b1f402f9a2b087",
            "e51da7146b1de7d1",
            "c2974ff12de933b5",
            "40bce59d054cea5d",
            "6c974eb5f7aafa3c"
        ],
        "x": 1165,
        "y": 440,
        "wires": []
    },
    {
        "id": "05b1f402f9a2b087",
        "type": "link in",
        "z": "15aaaa011d32e4f8",
        "name": "in_stop",
        "links": [
            "5b8725b45229c0ac"
        ],
        "x": 855,
        "y": 4040,
        "wires": [
            [
                "6df717d3b3f0c10a"
            ]
        ]
    },
    {
        "id": "6df717d3b3f0c10a",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "STOP",
        "func": "msg.reset = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1170,
        "y": 3960,
        "wires": [
            [
                "c11098030d3063fc",
                "821179b6da0e41bb"
            ]
        ]
    },
    {
        "id": "7758e01b4516a510",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "1 cycle",
        "func": "var arr = [];\narr.push({X:msg.x_axis});\narr.push({Y:msg.y_axis});\narr.push({Z:msg.z_axis});\n\n\nmsg.payload = arr;\n\n\nvar loop_limit = global.get(\"loop_limit\") || 0;\nvar loop_count = global.get(\"loop_count\") || 0;\nnode.status({fill:\"red\",shape:\"ring\",text:\"loop_count: \"+loop_count.toString()+\" / \"+loop_limit.toString()});\n\nif (loop_count < loop_limit){\nloop_count++;\nglobal.set(\"loop_count\",loop_count);\nreturn [msg,null];\n}else{\n    msg.reset = true;\n  return [null,msg];  \n}\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1700,
        "y": 3720,
        "wires": [
            [
                "9f5fd144b00a7731"
            ],
            [
                "c11098030d3063fc"
            ]
        ]
    },
    {
        "id": "9f5fd144b00a7731",
        "type": "split",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1870,
        "y": 3700,
        "wires": [
            [
                "bd1d5a28e075d4f1"
            ]
        ]
    },
    {
        "id": "6681749543f83d3a",
        "type": "delay",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": true,
        "outputs": 1,
        "x": 2340,
        "y": 3800,
        "wires": [
            [
                "da6c26ebd5155efb"
            ]
        ]
    },
    {
        "id": "da6c26ebd5155efb",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2570,
        "y": 3800,
        "wires": []
    },
    {
        "id": "48f2279a57191649",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "Professionally first",
        "func": "\n\nvar position = msg.position;\nvar corner = [4,8,12,16,20];\nvar rotate = [100,200,300,-100,-200,-300];\nvar x_axis = position[Math.floor(Math.random()*position.length)];\nvar z_axis = corner[Math.floor(Math.random()*corner.length)];\nvar y_axis = rotate[Math.floor(Math.random()*rotate.length)];\n\nmsg.x_axis = x_axis;\nmsg.z_axis = z_axis;\nmsg.y_axis = y_axis;\nmsg.payload = {x_axis:x_axis,y_axis:y_axis,z_axis:z_axis};\nmsg.delay = getRandomInt(6000, 7000);\n\nreturn msg;\n\n\nfunction getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 3880,
        "wires": [
            [
                "7758e01b4516a510",
                "d09f817a666e78bb"
            ]
        ]
    },
    {
        "id": "8b1ea0f264814d04",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "Amateur first",
        "func": "\n\nvar position = msg.position;\nvar corner = [4,8,12,16,20];\nvar rotate = [100,200,300,-100,-200,-300];\nvar x_axis = position[Math.floor(Math.random()*position.length)];\nvar z_axis = corner[Math.floor(Math.random()*corner.length)];\nvar y_axis = rotate[Math.floor(Math.random()*rotate.length)];\n\nmsg.x_axis = x_axis;\nmsg.z_axis = z_axis;\nmsg.y_axis = y_axis;\nmsg.payload = {x_axis:x_axis,y_axis:y_axis,z_axis:z_axis};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 930,
        "y": 3800,
        "wires": [
            [
                "ead19ca6502ce062",
                "7758e01b4516a510"
            ]
        ]
    },
    {
        "id": "ead19ca6502ce062",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "Amateur next",
        "func": "\n\nvar position = [\"Left\",\"Right\",\"Middle\"];\nvar corner = [4,8,12,16,20];\nvar rotate = [100,200,300,-100,-200,-300];\nvar x_axis = position[Math.floor(Math.random()*position.length)];\nvar z_axis = corner[Math.floor(Math.random()*corner.length)];\nvar y_axis = rotate[Math.floor(Math.random()*rotate.length)];\n\nmsg.x_axis = x_axis;\nmsg.z_axis = z_axis;\nmsg.y_axis = y_axis;\nmsg.payload = {x_axis:x_axis,y_axis:y_axis,z_axis:z_axis};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1390,
        "y": 3780,
        "wires": [
            [
                "c11098030d3063fc"
            ]
        ]
    },
    {
        "id": "0f221e4cac107d1b",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "save_automatic_level",
        "func": "global.set(\"automatic_level\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 800,
        "wires": [
            [
                "b095b4f480d31493"
            ]
        ]
    },
    {
        "id": "b095b4f480d31493",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 800,
        "wires": []
    },
    {
        "id": "a35fe1532ce71d21",
        "type": "switch",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Primary",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Amateur",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Professionally",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 570,
        "y": 3800,
        "wires": [
            [
                "51d2973b85eb3222"
            ],
            [
                "a2a5c282af51d538"
            ],
            [
                "aecf7d27314a0aba"
            ]
        ]
    },
    {
        "id": "007738262056e5c0",
        "type": "trigger",
        "z": "15aaaa011d32e4f8",
        "name": "500ms",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "pay",
        "duration": "500",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 450,
        "y": 3800,
        "wires": [
            [
                "a35fe1532ce71d21",
                "e2f34afce3497314"
            ]
        ]
    },
    {
        "id": "36a2d3cfde20a557",
        "type": "link out",
        "z": "15aaaa011d32e4f8",
        "name": "out_start",
        "mode": "link",
        "links": [
            "67e7501f32300c1b"
        ],
        "x": 965,
        "y": 500,
        "wires": []
    },
    {
        "id": "67e7501f32300c1b",
        "type": "link in",
        "z": "15aaaa011d32e4f8",
        "name": "in_start1",
        "links": [
            "36a2d3cfde20a557"
        ],
        "x": 115,
        "y": 2080,
        "wires": [
            [
                "8c54f3bad324180c"
            ]
        ]
    },
    {
        "id": "34c23bd4188acc44",
        "type": "link in",
        "z": "15aaaa011d32e4f8",
        "name": "in_start",
        "links": [
            "034a91604222a44c"
        ],
        "x": 865,
        "y": 3960,
        "wires": [
            [
                "6df717d3b3f0c10a"
            ]
        ]
    },
    {
        "id": "034a91604222a44c",
        "type": "link out",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "mode": "link",
        "links": [
            "34c23bd4188acc44",
            "abed4ede4a01e715",
            "ba905efbec34e83e",
            "36c526217031cb70",
            "e11b9df85a3208d0"
        ],
        "x": 545,
        "y": 3960,
        "wires": []
    },
    {
        "id": "e2f34afce3497314",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 570,
        "y": 3720,
        "wires": []
    },
    {
        "id": "d781a0fabbbdbdb5",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "save_loop_limit",
        "func": "global.set(\"loop_limit\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "a2a5c282af51d538",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "get 2 in 3 possition",
        "func": "var list_possition = [\"Left\", \"Middle\",\"Right\"];\nmsg.position = [];\n\nfor (var i = 0; i <2; i++) {\n  var idx = Math.floor(Math.random() * list_possition.length);\n  msg.position.push(list_possition[idx]);\n  list_possition.splice(idx, 1);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 3800,
        "wires": [
            [
                "8b1ea0f264814d04"
            ]
        ]
    },
    {
        "id": "51d2973b85eb3222",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "get 1 in 3 possition",
        "func": "var list_possition = [\"Left\", \"Middle\",\"Right\"];\nmsg.position = [];\n\nfor (var i = 0; i <1; i++) {\n  var idx = Math.floor(Math.random() * list_possition.length);\n  msg.position.push(list_possition[idx]);\n  list_possition.splice(idx, 1);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 3740,
        "wires": [
            [
                "5bce32561b6b13f0"
            ]
        ]
    },
    {
        "id": "5bce32561b6b13f0",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "Primary first",
        "func": "\n\nvar position = msg.position;\nvar corner = [10];\nvar rotate = [100,200,300];\nvar x_axis = position[Math.floor(Math.random()*position.length)];\nvar z_axis = corner[Math.floor(Math.random()*corner.length)];\nvar y_axis = rotate[Math.floor(Math.random()*rotate.length)];\n\nmsg.x_axis = x_axis;\nmsg.z_axis = z_axis;\nmsg.y_axis = y_axis;\nmsg.payload = {x_axis:x_axis,y_axis:y_axis,z_axis:z_axis};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 930,
        "y": 3740,
        "wires": [
            [
                "3f4b337721305ff0"
            ]
        ]
    },
    {
        "id": "3f4b337721305ff0",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "Primary Next",
        "func": "var position = msg.position;\nvar corner = [10];\nvar rotate = [100,200,300];\nvar x_axis = position[Math.floor(Math.random()*position.length)];\nvar z_axis = corner[Math.floor(Math.random()*corner.length)];\nvar y_axis = rotate[Math.floor(Math.random()*rotate.length)];\n\nmsg.x_axis = x_axis;\nmsg.z_axis = z_axis;\nmsg.y_axis = y_axis;\nmsg.payload = {x_axis:x_axis,y_axis:y_axis,z_axis:z_axis};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1110,
        "y": 3740,
        "wires": [
            [
                "7758e01b4516a510"
            ]
        ]
    },
    {
        "id": "aecf7d27314a0aba",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "get 3 in 3 possition",
        "func": "var list_possition = [\"Left\", \"Middle\",\"Right\"];\nmsg.position = [];\n\nfor (var i = 0; i <3; i++) {\n  var idx = Math.floor(Math.random() * list_possition.length);\n  msg.position.push(list_possition[idx]);\n  list_possition.splice(idx, 1);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 3880,
        "wires": [
            [
                "48f2279a57191649"
            ]
        ]
    },
    {
        "id": "bd1d5a28e075d4f1",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "deny duplication",
        "func": "var last_x = global.get(\"last_x\") || 0;\nvar last_y = global.get(\"last_y\") || 0;\nvar last_z = global.get(\"last_z\") || 0;\n\nif (msg.payload.hasOwnProperty('X')){\n    if (msg.payload.X != last_x){\n          last_x =msg.payload.X;\n          global.set(\"last_x\", last_x);\n        msg.payload = msg.payload.X;\n       \n        return msg;\n    }\n    \n}\n\n\nif (msg.payload.hasOwnProperty('Y')){\n    if (msg.payload.Y != last_y){\n          last_y =msg.payload.Y;\n          global.set(\"last_y\", last_y);\n        msg.payload = msg.payload.Y;\n       \n        return msg;\n}\n}\nif (msg.payload.hasOwnProperty('Z')){\n    if (msg.payload.Z != last_z){\n          last_z =msg.payload.Z;\n          global.set(\"last_z\", last_z);\n        msg.payload = msg.payload.Z;\n       \n        return msg;\n}\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2060,
        "y": 3700,
        "wires": [
            [
                "821179b6da0e41bb"
            ]
        ]
    },
    {
        "id": "2504fb1f39b3f5ea",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 1670,
        "y": 3880,
        "wires": []
    },
    {
        "id": "a164be1298b66cc2",
        "type": "switch",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "property": "automatic_level",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Amateur",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Professionally",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1250,
        "y": 3840,
        "wires": [
            [
                "ead19ca6502ce062"
            ],
            [
                "d09f817a666e78bb"
            ]
        ]
    },
    {
        "id": "1c64d91e34c8be66",
        "type": "delay",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": true,
        "outputs": 1,
        "x": 1620,
        "y": 2300,
        "wires": [
            [
                "e148fa264ca9a849",
                "e25346f4e3f793cf"
            ]
        ]
    },
    {
        "id": "ca25dbd7230e3070",
        "type": "inject",
        "z": "15aaaa011d32e4f8",
        "name": "clear stack",
        "props": [
            {
                "p": "reset",
                "v": "true",
                "vt": "bool"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1070,
        "y": 2240,
        "wires": [
            [
                "a555e81b2946440b"
            ]
        ]
    },
    {
        "id": "a555e81b2946440b",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "stop",
        "func": "var stop = flow.get(\"stop\");\nif (stop==true){\nreturn msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1350,
        "y": 2240,
        "wires": [
            [
                "1c64d91e34c8be66"
            ]
        ]
    },
    {
        "id": "e148fa264ca9a849",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "rate",
        "func": "if (typeof msg.payload !== \"undefined\") {\nif (msg.payload.indexOf(\"X\")!==-1){\n    msg = {};\n    msg.rate =global.get(\"cost_time_X\")|| 10000;\n    return msg;\n}else if (msg.payload.indexOf(\"Y\")!==-1){\n    msg = {};\n        msg.rate =global.get(\"cost_time_Y\")|| 4000;\n\n    return msg;\n}else if (msg.payload.indexOf(\"Z\")!==-1){\n    msg = {};\n     msg.rate =global.get(\"cost_time_Z\")|| 4000;\n    return msg;\n}else{\n    msg.reset = true;\n}\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1630,
        "y": 2240,
        "wires": [
            [
                "1c64d91e34c8be66"
            ]
        ]
    },
    {
        "id": "e25346f4e3f793cf",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "!== \"undefined\"",
        "func": "if (typeof msg.payload !== \"undefined\") {\n    flow.set(\"stop\",false);\n    return [msg,null];\n\n}else{\n    flow.set(\"stop\",true);\n     return [null,msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1820,
        "y": 2280,
        "wires": [
            [
                "0668d6ec63ced0ac",
                "aa1cad72e0daba64"
            ],
            [
                "da06c09bf280e982"
            ]
        ]
    },
    {
        "id": "821179b6da0e41bb",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2360,
        "y": 3700,
        "wires": [
            []
        ]
    },
    {
        "id": "a576aaaaa8e5ccac",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "func": "  +   setTimeout(function(){\n        node.send({payload: \"Lenovo\"});\n      }, 2000);\n      \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 4100,
        "wires": [
            [
                "901b870325b16568"
            ]
        ]
    },
    {
        "id": "92ace0162c2924a6",
        "type": "inject",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 420,
        "y": 4020,
        "wires": [
            [
                "a576aaaaa8e5ccac"
            ]
        ]
    },
    {
        "id": "901b870325b16568",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 590,
        "y": 4100,
        "wires": []
    },
    {
        "id": "7bd4c2f7e52173de",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2610,
        "y": 2280,
        "wires": []
    },
    {
        "id": "d4c911ce3344ac6e",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "Professionally next",
        "func": "\n\nvar position = msg.position;\nvar corner = [4,8,12,16,20];\nvar rotate = [5,10,15,-5,-10,-15];\nvar x_axis = position[Math.floor(Math.random()*position.length)];\nvar z_axis = corner[Math.floor(Math.random()*corner.length)];\nvar y_axis = rotate[Math.floor(Math.random()*rotate.length)];\n\nmsg.x_axis = x_axis;\nmsg.z_axis = z_axis;\nmsg.y_axis = y_axis;\nmsg.payload = {x_axis:x_axis,y_axis:y_axis,z_axis:z_axis};\nmsg.delay = getRandomInt(6000, 7000);\n\nreturn msg;\nfunction getRandomInt(min, max) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 2300,
        "wires": [
            [
                "1cb02181ed63323e"
            ]
        ]
    },
    {
        "id": "1cb02181ed63323e",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "1 cycle",
        "func": "var arr = [];\narr.push(\"X\"+msg.x_axis.toString());\narr.push(\"Y\"+msg.y_axis.toString());\narr.push(\"Z\"+msg.z_axis.toString());\n\n\nmsg.payload = arr;\n\n\nvar loop_limit = 5;//global.get(\"loop_limit\") || 0;\nvar loop_count = global.get(\"loop_count\") || 0;\nnode.status({fill:\"red\",shape:\"ring\",text:\"loop_count: \"+loop_count.toString()+\" / \"+loop_limit.toString()});\n\nif (loop_count < loop_limit){\nloop_count++;\nglobal.set(\"loop_count\",loop_count);\nreturn [msg,null];\n}else{\n    msg.reset = true;\n  return [null,msg];  \n}\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 2300,
        "wires": [
            [
                "73d3eb7e4fe51ea2"
            ],
            []
        ]
    },
    {
        "id": "73d3eb7e4fe51ea2",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "count_real_action",
        "func": "var last = global.get(\"last\") || [];\nvar tnow = msg.payload;\nvar difference = tnow.filter(x => last.indexOf(x) === -1);\n\n\nglobal.set(\"last\", tnow);\nmsg.payload = difference;\nmsg.action = difference;\nmsg.count_real_action =  difference.length;\nglobal.set(\"count_real_action\", difference.length);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 2300,
        "wires": [
            [
                "4fafc3a28062b31e"
            ]
        ]
    },
    {
        "id": "b2ac4672a7d01fe8",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "get 3 in 3 possition",
        "func": "//var list_possition = [\"Left\", \"Middle\",\"Right\"];\nvar list_possition = [0, 365,710];\n\nmsg.position = [];\n\nfor (var i = 0; i <3; i++) {\n  var idx = Math.floor(Math.random() * list_possition.length);\n  msg.position.push(list_possition[idx]);\n  list_possition.splice(idx, 1);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 2300,
        "wires": [
            [
                "d4c911ce3344ac6e"
            ]
        ]
    },
    {
        "id": "4fafc3a28062b31e",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "cost time",
        "func": "var count_action = msg.action.length;\nvar action = msg.action;\nvar cost_time = 0;\nvar new_arr = [];\nfor( let i=0; i<count_action;i++){\n    if (action[i].indexOf(\"X\")!==-1){\n       var vantoc_X  = 40;\n             var vittricu_X = global.get(\"vitri_X\") || 0;\n\n       var vitrimoi_X = parseInt(action[i].substring(1));\n      // node.status({fill:\"red\",shape:\"ring\",text:\"vitrimoi_X: \"+vitrimoi_X.toString()});\n\n        global.set(\"vitri_X\",vitrimoi_X);\n       var quangduong_X = _quangduong(vitrimoi_X,vittricu_X);\n\n             //node.send({vitrimoi_X:vitrimoi_X,vittricu_X:vittricu_X,quangduong_X:quangduong_X });\n        if (quangduong_X !== 0){\n        new_arr.push(\"X\"+quangduong_X.toString());\n        }\n       var thoigian_X = Math.round( Math.abs(quangduong_X) / vantoc_X);\n       cost_time+= thoigian_X;\n       msg.cost_time_X = thoigian_X;\n       global.set(\"cost_time_X\", thoigian_X*1000)\n\n    }else if (action[i].indexOf(\"Y\")!==-1){\n       var vantoc_Y  = 20;\n              var vittricu_Y = global.get(\"vitri_Y\") || 0;\n\n       var vitrimoi_Y = parseInt(action[i].substring(1));\n        global.set(\"vitri_Y\",vitrimoi_Y);\n\n       var quangduong_Y =  _quangduong(vitrimoi_Y,vittricu_Y);\n              if (quangduong_Y !== 0){\n        new_arr.push(\"Y\"+quangduong_Y.toString());\n              }\n       var thoigian_Y = Math.round(Math.abs(quangduong_Y)/ vantoc_Y);\n      cost_time+= thoigian_Y;\n        msg.cost_time_Y = thoigian_Y;\n       global.set(\"cost_time_Y\", thoigian_Y*1000)\n\n    }else if (action[i].indexOf(\"Z\")!==-1){\n       var vantoc_Z  = 4;\n              var vittricu_Z = global.get(\"vitri_Z\") || 0;\n\n       var vitrimoi_Z = parseInt(action[i].substring(1));\n        global.set(\"vitri_Z\",vitrimoi_Z);\n\n       var quangduong_Z = _quangduong(vitrimoi_Z,vittricu_Z);\n        if (quangduong_Z !== 0){\n         new_arr.push(\"Z\"+quangduong_Z.toString());\n        }\n       var thoigian_Z = Math.round(Math.abs(quangduong_Z) / vantoc_Z);\n      cost_time+= thoigian_Z;\n      msg.cost_time_Z = thoigian_Z;\n       global.set(\"cost_time_Z\", thoigian_Z*1000)\n\n  \n    }\n}\nmsg.cost_time = cost_time;\nmsg.payload = new_arr;\nnode.status({fill:\"red\",shape:\"ring\",text:\"cost_time: \"+cost_time.toString()});\n\nreturn msg;\n\n\nfunction _quangduong(vitrimoi,vitricu){\nvar quangduong;\nif (vitrimoi>=vitricu){\n    quangduong = vitrimoi-vitricu;\n}else if(vitrimoi<vitricu){\n    quangduong = -(vitricu - vitrimoi);\n}\nreturn quangduong;\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1220,
        "y": 2300,
        "wires": [
            [
                "9dbb2a1da984d8b1"
            ]
        ]
    },
    {
        "id": "9dbb2a1da984d8b1",
        "type": "split",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1350,
        "y": 2300,
        "wires": [
            [
                "1c64d91e34c8be66"
            ]
        ]
    },
    {
        "id": "c068fa2954a61f74",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "send ball",
        "func": "global.set(\"count_ball\", 0);\nfor( var k=0; k<2;k++){\n      setTimeout(function(){\n        node.send({payload: \"C\"});\n      }, 2000*k);\n      \n\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2200,
        "y": 2300,
        "wires": [
            [
                "93a6bd98197de7c2"
            ]
        ]
    },
    {
        "id": "93a6bd98197de7c2",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "limit ball",
        "func": "var count_ball = global.get(\"count_ball\") || 0;\ncount_ball++;\nglobal.set(\"count_ball\",count_ball);\nnode.status({fill:\"red\",shape:\"ring\",text:\"count_ball: \"+count_ball.toString()});\n\nif (count_ball<2){\nreturn [msg,null];\n}else{\nreturn [null,msg];    \n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2380,
        "y": 2300,
        "wires": [
            [
                "7bd4c2f7e52173de"
            ],
            [
                "db05895b7674a3f3"
            ]
        ]
    },
    {
        "id": "db05895b7674a3f3",
        "type": "link out",
        "z": "15aaaa011d32e4f8",
        "name": "continue",
        "mode": "link",
        "links": [
            "c486cc6c1ce81ae2",
            "52e81be9574e73a5",
            "5e44b2a13e4c33f7"
        ],
        "x": 2475,
        "y": 2420,
        "wires": []
    },
    {
        "id": "da06c09bf280e982",
        "type": "trigger",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "1",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2040,
        "y": 2320,
        "wires": [
            [
                "c068fa2954a61f74"
            ]
        ]
    },
    {
        "id": "5e44b2a13e4c33f7",
        "type": "link in",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "links": [
            "20efdc6869119e06",
            "db05895b7674a3f3"
        ],
        "x": 195,
        "y": 2460,
        "wires": [
            [
                "b2ac4672a7d01fe8"
            ]
        ]
    },
    {
        "id": "ba905efbec34e83e",
        "type": "link in",
        "z": "15aaaa011d32e4f8",
        "name": "in_start",
        "links": [
            "034a91604222a44c"
        ],
        "x": 775,
        "y": 2500,
        "wires": [
            [
                "ad7ebfd2bd28a524"
            ]
        ]
    },
    {
        "id": "c2974ff12de933b5",
        "type": "link in",
        "z": "15aaaa011d32e4f8",
        "name": "in_stop",
        "links": [
            "5b8725b45229c0ac"
        ],
        "x": 765,
        "y": 2580,
        "wires": [
            [
                "ad7ebfd2bd28a524"
            ]
        ]
    },
    {
        "id": "ad7ebfd2bd28a524",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "STOP",
        "func": "msg.reset = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 2500,
        "wires": [
            [
                "1c64d91e34c8be66",
                "da06c09bf280e982"
            ]
        ]
    },
    {
        "id": "ab8471ee9260e945",
        "type": "inject",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 960,
        "y": 2620,
        "wires": [
            [
                "ad7ebfd2bd28a524"
            ]
        ]
    },
    {
        "id": "0668d6ec63ced0ac",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2010,
        "y": 2240,
        "wires": []
    },
    {
        "id": "c6e36b0937a491cd",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "get 1 in 3 possition",
        "func": "var list_possition = [0, 365,710];\nmsg.position = [];\n\nfor (var i = 0; i <1; i++) {\n  var idx = Math.floor(Math.random() * list_possition.length);\n  msg.position.push(list_possition[idx]);\n  list_possition.splice(idx, 1);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 1780,
        "wires": [
            [
                "394255cb0a9b3cfe"
            ]
        ]
    },
    {
        "id": "394255cb0a9b3cfe",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "Primary Next",
        "func": "var position = msg.position;\nvar corner = [10];\nvar rotate = [100,200,300];\nvar x_axis = position[Math.floor(Math.random()*position.length)];\nvar z_axis = corner[Math.floor(Math.random()*corner.length)];\nvar y_axis = rotate[Math.floor(Math.random()*rotate.length)];\n\nmsg.x_axis = x_axis;\nmsg.z_axis = z_axis;\nmsg.y_axis = y_axis;\nmsg.payload = {x_axis:x_axis,y_axis:y_axis,z_axis:z_axis};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 1780,
        "wires": [
            [
                "79595285ac752758"
            ]
        ]
    },
    {
        "id": "503a12456b8352e5",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "get 2 in 3 possition",
        "func": "var list_possition = [0, 365,710];\nmsg.position = [];\n\nfor (var i = 0; i <2; i++) {\n  var idx = Math.floor(Math.random() * list_possition.length);\n  msg.position.push(list_possition[idx]);\n  list_possition.splice(idx, 1);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 2100,
        "wires": [
            [
                "ff44328e88b2c50e"
            ]
        ]
    },
    {
        "id": "ff44328e88b2c50e",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "Amateur next",
        "func": "\n\nvar position = [\"Left\",\"Right\",\"Middle\"];\nvar corner = [4,8,12,16,20];\nvar rotate = [100,200,300,-100,-200,-300];\nvar x_axis = position[Math.floor(Math.random()*position.length)];\nvar z_axis = corner[Math.floor(Math.random()*corner.length)];\nvar y_axis = rotate[Math.floor(Math.random()*rotate.length)];\n\nmsg.x_axis = x_axis;\nmsg.z_axis = z_axis;\nmsg.y_axis = y_axis;\nmsg.payload = {x_axis:x_axis,y_axis:y_axis,z_axis:z_axis};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1190,
        "y": 2100,
        "wires": [
            [
                "cbc94bef78021ba7"
            ]
        ]
    },
    {
        "id": "675528ebb58931e7",
        "type": "delay",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": true,
        "outputs": 1,
        "x": 1540,
        "y": 1800,
        "wires": [
            [
                "c81bcc6dd3741095",
                "cb7956b3ce7ec2ca"
            ]
        ]
    },
    {
        "id": "044664bafeed3e0b",
        "type": "inject",
        "z": "15aaaa011d32e4f8",
        "name": "clear stack",
        "props": [
            {
                "p": "reset",
                "v": "true",
                "vt": "bool"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1110,
        "y": 1720,
        "wires": [
            [
                "60c29605a328aed3"
            ]
        ]
    },
    {
        "id": "60c29605a328aed3",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "stop",
        "func": "var stop = flow.get(\"stop\");\nif (stop==true){\nreturn msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1390,
        "y": 1720,
        "wires": [
            [
                "675528ebb58931e7"
            ]
        ]
    },
    {
        "id": "c81bcc6dd3741095",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "rate",
        "func": "if (typeof msg.payload !== \"undefined\") {\nif (msg.payload.indexOf(\"X\")!==-1){\n    msg = {};\n    msg.rate =global.get(\"cost_time_X\")|| 10000;\n    return msg;\n}else if (msg.payload.indexOf(\"Y\")!==-1){\n    msg = {};\n        msg.rate =global.get(\"cost_time_Y\")|| 4000;\n\n    return msg;\n}else if (msg.payload.indexOf(\"Z\")!==-1){\n    msg = {};\n     msg.rate =global.get(\"cost_time_Z\")|| 4000;\n    return msg;\n}else{\n    msg.reset = true;\n}\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1670,
        "y": 1720,
        "wires": [
            [
                "675528ebb58931e7"
            ]
        ]
    },
    {
        "id": "cb7956b3ce7ec2ca",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "!== \"undefined\"",
        "func": "if (typeof msg.payload !== \"undefined\") {\n    flow.set(\"stop\",false);\n\n    return [msg,null];\n\n}else{\n    flow.set(\"stop\",true);\n     return [null,msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1860,
        "y": 1760,
        "wires": [
            [
                "7b1e82d949c8a9bb"
            ],
            [
                "79133c48d88a6e51"
            ]
        ]
    },
    {
        "id": "ecd17d26a4a91271",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2650,
        "y": 1760,
        "wires": []
    },
    {
        "id": "79595285ac752758",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "1 cycle",
        "func": "var arr = [];\narr.push(\"X\"+msg.x_axis.toString());\narr.push(\"Y\"+msg.y_axis.toString());\narr.push(\"Z\"+msg.z_axis.toString());\n\n\nmsg.payload = arr;\n\n\nvar loop_limit = 10;//global.get(\"loop_limit\") || 0;\nvar loop_count = global.get(\"loop_count\") || 0;\nnode.status({fill:\"red\",shape:\"ring\",text:\"loop_count: \"+loop_count.toString()+\" / \"+loop_limit.toString()});\n\nif (loop_count < loop_limit){\nloop_count++;\nglobal.set(\"loop_count\",loop_count);\nreturn [msg,null];\n}else{\n    msg.reset = true;\n  return [null,msg];  \n}\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 1780,
        "wires": [
            [
                "eec82f392f1ff223"
            ],
            []
        ]
    },
    {
        "id": "eec82f392f1ff223",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "count_real_action",
        "func": "var last = global.get(\"last\") || [];\nvar tnow = msg.payload;\nvar difference = tnow.filter(x => last.indexOf(x) === -1);\n\n\nglobal.set(\"last\", tnow);\nmsg.payload = difference;\nmsg.action = difference;\nmsg.count_real_action =  difference.length;\nglobal.set(\"count_real_action\", difference.length);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1070,
        "y": 1780,
        "wires": [
            [
                "7a77f28aa6dcd93d"
            ]
        ]
    },
    {
        "id": "7a77f28aa6dcd93d",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "cost time",
        "func": "var count_action = msg.action.length;\nvar action = msg.action;\nvar cost_time = 0;\nfor( let i=0; i<count_action;i++){\n    if (action[i].indexOf(\"X\")!==-1){\n       var vantoc_X  = 100;\n             var vittricu_X = global.get(\"vitri_X\") || 0;\n\n       var vitrimoi_X = parseInt(action[i].substring(1));\n      // node.status({fill:\"red\",shape:\"ring\",text:\"vitrimoi_X: \"+vitrimoi_X.toString()});\n\n        global.set(\"vitri_X\",vitrimoi_X);\n       var quangduong_X = _quangduong(vitrimoi_X,vittricu_X);\n\n             //node.send({vitrimoi_X:vitrimoi_X,vittricu_X:vittricu_X,quangduong_X:quangduong_X });\n\n       var thoigian_X = Math.round( Math.abs(quangduong_X) / vantoc_X);\n       cost_time+= thoigian_X;\n       msg.cost_time_X = thoigian_X;\n       global.set(\"cost_time_X\", thoigian_X*1000)\n\n    }else if (action[i].indexOf(\"Y\")!==-1){\n       var vantoc_Y  = 20;\n              var vittricu_Y = global.get(\"vitri_Y\") || 0;\n\n       var vitrimoi_Y = parseInt(action[i].substring(1));\n        global.set(\"vitri_Y\",vitrimoi_Y);\n\n       var quangduong_Y =  _quangduong(vitrimoi_Y,vittricu_Y);\n       \n       var thoigian_Y = Math.round(Math.abs(quangduong_Y)/ vantoc_Y);\n      cost_time+= thoigian_Y;\n        msg.cost_time_Y = thoigian_Y;\n       global.set(\"cost_time_Y\", thoigian_Y*1000)\n\n    }else if (action[i].indexOf(\"Z\")!==-1){\n       var vantoc_Z  = 20;\n              var vittricu_Z = global.get(\"vitri_Z\") || 0;\n\n       var vitrimoi_Z = parseInt(action[i].substring(1));\n        global.set(\"vitri_Z\",vitrimoi_Z);\n\n       var quangduong_Z = _quangduong(vitrimoi_Z,vittricu_Z);\n       var thoigian_Z = Math.round(Math.abs(quangduong_Z) / vantoc_Z);\n      cost_time+= thoigian_Z;\n      msg.cost_time_Z = thoigian_Z;\n       global.set(\"cost_time_Z\", thoigian_Z*1000)\n\n  \n    }\n}\nmsg.cost_time = cost_time;\nmsg.payload = action;\nnode.status({fill:\"red\",shape:\"ring\",text:\"cost_time: \"+cost_time.toString()});\n\nreturn msg;\n\n\nfunction _quangduong(vitrimoi,vitricu){\nvar quangduong;\nif (vitrimoi>=vitricu){\n    quangduong = vitrimoi-vitricu;\n}else if(vitrimoi<vitricu){\n    quangduong = -(vitricu - vitrimoi);\n}\nreturn quangduong;\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1260,
        "y": 1780,
        "wires": [
            [
                "9fba1e252e502fa0"
            ]
        ]
    },
    {
        "id": "9fba1e252e502fa0",
        "type": "split",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1390,
        "y": 1780,
        "wires": [
            [
                "675528ebb58931e7"
            ]
        ]
    },
    {
        "id": "af134f572c4fe894",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "send ball",
        "func": "global.set(\"count_ball\", 0);\nfor( var k=0; k<5;k++){\n      setTimeout(function(){\n        node.send({payload: \"C\"});\n      }, 2000*k);\n      \n\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2240,
        "y": 1780,
        "wires": [
            [
                "21741be4bfb50ed9"
            ]
        ]
    },
    {
        "id": "21741be4bfb50ed9",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "limit ball",
        "func": "var count_ball = global.get(\"count_ball\") || 0;\ncount_ball++;\nglobal.set(\"count_ball\",count_ball);\nnode.status({fill:\"red\",shape:\"ring\",text:\"count_ball: \"+count_ball.toString()});\n\nif (count_ball<5){\nreturn [msg,null];\n}else{\nreturn [null,msg];    \n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2420,
        "y": 1780,
        "wires": [
            [
                "ecd17d26a4a91271"
            ],
            [
                "d6e86f3bc24fba55"
            ]
        ]
    },
    {
        "id": "d6e86f3bc24fba55",
        "type": "link out",
        "z": "15aaaa011d32e4f8",
        "name": "continue",
        "mode": "link",
        "links": [
            "c486cc6c1ce81ae2",
            "52e81be9574e73a5",
            "6e236acf9256c073"
        ],
        "x": 2515,
        "y": 1900,
        "wires": []
    },
    {
        "id": "79133c48d88a6e51",
        "type": "trigger",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "1",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2080,
        "y": 1800,
        "wires": [
            [
                "af134f572c4fe894"
            ]
        ]
    },
    {
        "id": "6e236acf9256c073",
        "type": "link in",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "links": [
            "20efdc6869119e06",
            "d6e86f3bc24fba55"
        ],
        "x": 425,
        "y": 1900,
        "wires": [
            [
                "c6e36b0937a491cd"
            ]
        ]
    },
    {
        "id": "36c526217031cb70",
        "type": "link in",
        "z": "15aaaa011d32e4f8",
        "name": "in_start",
        "links": [
            "034a91604222a44c"
        ],
        "x": 865,
        "y": 1600,
        "wires": [
            [
                "1f9b589927ad826d"
            ]
        ]
    },
    {
        "id": "40bce59d054cea5d",
        "type": "link in",
        "z": "15aaaa011d32e4f8",
        "name": "in_stop",
        "links": [
            "5b8725b45229c0ac"
        ],
        "x": 885,
        "y": 1560,
        "wires": [
            [
                "1f9b589927ad826d"
            ]
        ]
    },
    {
        "id": "1f9b589927ad826d",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "STOP",
        "func": "msg.reset = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1310,
        "y": 1620,
        "wires": [
            [
                "675528ebb58931e7",
                "79133c48d88a6e51"
            ]
        ]
    },
    {
        "id": "64d7b0006a19461d",
        "type": "inject",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1120,
        "y": 1480,
        "wires": [
            [
                "1f9b589927ad826d"
            ]
        ]
    },
    {
        "id": "7b1e82d949c8a9bb",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2050,
        "y": 1720,
        "wires": []
    },
    {
        "id": "283a81d4a2b6baef",
        "type": "delay",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": true,
        "outputs": 1,
        "x": 2100,
        "y": 2100,
        "wires": [
            [
                "6d6b8d3a805e69c8",
                "16267001fe56a3d5"
            ]
        ]
    },
    {
        "id": "18ed04379d3364ee",
        "type": "inject",
        "z": "15aaaa011d32e4f8",
        "name": "clear stack",
        "props": [
            {
                "p": "reset",
                "v": "true",
                "vt": "bool"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1550,
        "y": 2040,
        "wires": [
            [
                "cdc2434d0ce662af"
            ]
        ]
    },
    {
        "id": "cdc2434d0ce662af",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "stop",
        "func": "var stop = flow.get(\"stop\");\nif (stop==true){\nreturn msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1830,
        "y": 2040,
        "wires": [
            [
                "283a81d4a2b6baef"
            ]
        ]
    },
    {
        "id": "6d6b8d3a805e69c8",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "rate",
        "func": "if (typeof msg.payload !== \"undefined\") {\nif (msg.payload.indexOf(\"X\")!==-1){\n    msg = {};\n    msg.rate =global.get(\"cost_time_X\")|| 10000;\n    return msg;\n}else if (msg.payload.indexOf(\"Y\")!==-1){\n    msg = {};\n        msg.rate =global.get(\"cost_time_Y\")|| 4000;\n\n    return msg;\n}else if (msg.payload.indexOf(\"Z\")!==-1){\n    msg = {};\n     msg.rate =global.get(\"cost_time_Z\")|| 4000;\n    return msg;\n}else{\n    msg.reset = true;\n}\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2110,
        "y": 2040,
        "wires": [
            [
                "283a81d4a2b6baef"
            ]
        ]
    },
    {
        "id": "16267001fe56a3d5",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "!== \"undefined\"",
        "func": "if (typeof msg.payload !== \"undefined\") {\n    flow.set(\"stop\",false);\n\n    return [msg,null];\n\n}else{\n    flow.set(\"stop\",true);\n     return [null,msg];\n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2300,
        "y": 2080,
        "wires": [
            [
                "fa7a41398de5fb26",
                "964750e096db678e"
            ],
            [
                "928feb3575f20a9b"
            ]
        ]
    },
    {
        "id": "a2357cd071bafad7",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3090,
        "y": 2080,
        "wires": []
    },
    {
        "id": "cbc94bef78021ba7",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "1 cycle",
        "func": "var arr = [];\narr.push(\"X\"+msg.x_axis.toString());\narr.push(\"Y\"+msg.y_axis.toString());\narr.push(\"Z\"+msg.z_axis.toString());\n\n\nmsg.payload = arr;\n\n\nvar loop_limit = 10;//global.get(\"loop_limit\") || 0;\nvar loop_count = global.get(\"loop_count\") || 0;\nnode.status({fill:\"red\",shape:\"ring\",text:\"loop_count: \"+loop_count.toString()+\" / \"+loop_limit.toString()});\n\nif (loop_count < loop_limit){\nloop_count++;\nglobal.set(\"loop_count\",loop_count);\nreturn [msg,null];\n}else{\n    msg.reset = true;\n  return [null,msg];  \n}\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 2100,
        "wires": [
            [
                "7ae7581da5db6816"
            ],
            []
        ]
    },
    {
        "id": "7ae7581da5db6816",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "count_real_action",
        "func": "var last = global.get(\"last\") || [];\nvar tnow = msg.payload;\nvar difference = tnow.filter(x => last.indexOf(x) === -1);\n\n\nglobal.set(\"last\", tnow);\nmsg.payload = difference;\nmsg.action = difference;\nmsg.count_real_action =  difference.length;\nglobal.set(\"count_real_action\", difference.length);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1510,
        "y": 2100,
        "wires": [
            [
                "6ababe16385cf1fc"
            ]
        ]
    },
    {
        "id": "6ababe16385cf1fc",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "cost time",
        "func": "var count_action = msg.action.length;\nvar action = msg.action;\nvar cost_time = 0;\nfor( let i=0; i<count_action;i++){\n    if (action[i].indexOf(\"X\")!==-1){\n       var vantoc_X  = 100;\n             var vittricu_X = global.get(\"vitri_X\") || 0;\n\n       var vitrimoi_X = parseInt(action[i].substring(1));\n      // node.status({fill:\"red\",shape:\"ring\",text:\"vitrimoi_X: \"+vitrimoi_X.toString()});\n\n        global.set(\"vitri_X\",vitrimoi_X);\n       var quangduong_X = _quangduong(vitrimoi_X,vittricu_X);\n\n             //node.send({vitrimoi_X:vitrimoi_X,vittricu_X:vittricu_X,quangduong_X:quangduong_X });\n\n       var thoigian_X = Math.round( Math.abs(quangduong_X) / vantoc_X);\n       cost_time+= thoigian_X;\n       msg.cost_time_X = thoigian_X;\n       global.set(\"cost_time_X\", thoigian_X*1000)\n\n    }else if (action[i].indexOf(\"Y\")!==-1){\n       var vantoc_Y  = 20;\n              var vittricu_Y = global.get(\"vitri_Y\") || 0;\n\n       var vitrimoi_Y = parseInt(action[i].substring(1));\n        global.set(\"vitri_Y\",vitrimoi_Y);\n\n       var quangduong_Y =  _quangduong(vitrimoi_Y,vittricu_Y);\n       \n       var thoigian_Y = Math.round(Math.abs(quangduong_Y)/ vantoc_Y);\n      cost_time+= thoigian_Y;\n        msg.cost_time_Y = thoigian_Y;\n       global.set(\"cost_time_Y\", thoigian_Y*1000)\n\n    }else if (action[i].indexOf(\"Z\")!==-1){\n       var vantoc_Z  = 20;\n              var vittricu_Z = global.get(\"vitri_Z\") || 0;\n\n       var vitrimoi_Z = parseInt(action[i].substring(1));\n        global.set(\"vitri_Z\",vitrimoi_Z);\n\n       var quangduong_Z = _quangduong(vitrimoi_Z,vittricu_Z);\n       var thoigian_Z = Math.round(Math.abs(quangduong_Z) / vantoc_Z);\n      cost_time+= thoigian_Z;\n      msg.cost_time_Z = thoigian_Z;\n       global.set(\"cost_time_Z\", thoigian_Z*1000)\n\n  \n    }\n}\nmsg.cost_time = cost_time;\nmsg.payload = action;\nnode.status({fill:\"red\",shape:\"ring\",text:\"cost_time: \"+cost_time.toString()});\n\nreturn msg;\n\n\nfunction _quangduong(vitrimoi,vitricu){\nvar quangduong;\nif (vitrimoi>=vitricu){\n    quangduong = vitrimoi-vitricu;\n}else if(vitrimoi<vitricu){\n    quangduong = -(vitricu - vitrimoi);\n}\nreturn quangduong;\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1700,
        "y": 2100,
        "wires": [
            [
                "60093c416b8787b3"
            ]
        ]
    },
    {
        "id": "60093c416b8787b3",
        "type": "split",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1830,
        "y": 2100,
        "wires": [
            [
                "283a81d4a2b6baef"
            ]
        ]
    },
    {
        "id": "13315ca97389c91d",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "send ball",
        "func": "global.set(\"count_ball\", 0);\nfor( var k=0; k<5;k++){\n      setTimeout(function(){\n        node.send({payload: \"C\"});\n      }, 2000*k);\n      \n\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2680,
        "y": 2080,
        "wires": [
            [
                "d26a16ca51dcb532"
            ]
        ]
    },
    {
        "id": "d26a16ca51dcb532",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "limit ball",
        "func": "var count_ball = global.get(\"count_ball\") || 0;\ncount_ball++;\nglobal.set(\"count_ball\",count_ball);\nnode.status({fill:\"red\",shape:\"ring\",text:\"count_ball: \"+count_ball.toString()});\n\nif (count_ball<5){\nreturn [msg,null];\n}else{\nreturn [null,msg];    \n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2860,
        "y": 2080,
        "wires": [
            [
                "a2357cd071bafad7"
            ],
            [
                "46406b6e4e85f054"
            ]
        ]
    },
    {
        "id": "46406b6e4e85f054",
        "type": "link out",
        "z": "15aaaa011d32e4f8",
        "name": "continue",
        "mode": "link",
        "links": [
            "c486cc6c1ce81ae2",
            "52e81be9574e73a5",
            "e79d19c87e3dbe37"
        ],
        "x": 2955,
        "y": 2220,
        "wires": []
    },
    {
        "id": "928feb3575f20a9b",
        "type": "trigger",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "1",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2520,
        "y": 2080,
        "wires": [
            [
                "13315ca97389c91d"
            ]
        ]
    },
    {
        "id": "e79d19c87e3dbe37",
        "type": "link in",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "links": [
            "20efdc6869119e06",
            "46406b6e4e85f054"
        ],
        "x": 865,
        "y": 2140,
        "wires": [
            [
                "503a12456b8352e5"
            ]
        ]
    },
    {
        "id": "e11b9df85a3208d0",
        "type": "link in",
        "z": "15aaaa011d32e4f8",
        "name": "in_start",
        "links": [
            "034a91604222a44c"
        ],
        "x": 2055,
        "y": 2020,
        "wires": [
            [
                "cc5abf91f245dc88"
            ]
        ]
    },
    {
        "id": "6c974eb5f7aafa3c",
        "type": "link in",
        "z": "15aaaa011d32e4f8",
        "name": "in_stop",
        "links": [
            "5b8725b45229c0ac"
        ],
        "x": 2055,
        "y": 1960,
        "wires": [
            [
                "cc5abf91f245dc88"
            ]
        ]
    },
    {
        "id": "cc5abf91f245dc88",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "STOP",
        "func": "msg.reset = true;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2310,
        "y": 2020,
        "wires": [
            [
                "283a81d4a2b6baef",
                "928feb3575f20a9b"
            ]
        ]
    },
    {
        "id": "9cfa0c951a6cabbb",
        "type": "inject",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 2260,
        "y": 1940,
        "wires": [
            [
                "cc5abf91f245dc88"
            ]
        ]
    },
    {
        "id": "fa7a41398de5fb26",
        "type": "debug",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2670,
        "y": 2020,
        "wires": []
    },
    {
        "id": "8c54f3bad324180c",
        "type": "function",
        "z": "15aaaa011d32e4f8",
        "name": "automatic_level",
        "func": "var automatic_level\t= global.get(\"automatic_level\");\nmsg.payload = automatic_level;\nmsg.automatic_level = automatic_level;\nglobal.set(\"loop_count\",0);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 2080,
        "wires": [
            [
                "b1ed80207a5c12c4"
            ]
        ]
    },
    {
        "id": "b1ed80207a5c12c4",
        "type": "trigger",
        "z": "15aaaa011d32e4f8",
        "name": "500ms",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "pay",
        "duration": "500",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 430,
        "y": 2080,
        "wires": [
            [
                "8689570c47e813dd"
            ]
        ]
    },
    {
        "id": "8689570c47e813dd",
        "type": "switch",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Primary",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Amateur",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Professionally",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 550,
        "y": 2080,
        "wires": [
            [
                "c6e36b0937a491cd"
            ],
            [
                "503a12456b8352e5"
            ],
            [
                "b2ac4672a7d01fe8"
            ]
        ]
    },
    {
        "id": "e4918a8d64e6786d",
        "type": "inject",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Professionally",
        "payloadType": "str",
        "x": 110,
        "y": 2160,
        "wires": [
            [
                "8c54f3bad324180c"
            ]
        ]
    },
    {
        "id": "c72fee9e0e29e2a5",
        "type": "inject",
        "z": "15aaaa011d32e4f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 2320,
        "wires": [
            [
                "b2ac4672a7d01fe8"
            ]
        ]
    },
    {
        "id": "964750e096db678e",
        "type": "link out",
        "z": "15aaaa011d32e4f8",
        "name": "out_step",
        "mode": "link",
        "links": [
            "888b59e5e587f3d7"
        ],
        "x": 2515,
        "y": 1980,
        "wires": []
    },
    {
        "id": "aa1cad72e0daba64",
        "type": "link out",
        "z": "15aaaa011d32e4f8",
        "name": "out_step",
        "mode": "link",
        "links": [
            "888b59e5e587f3d7"
        ],
        "x": 2065,
        "y": 2160,
        "wires": []
    },
    {
        "id": "c4dc8566c7b3dce5",
        "type": "ui_template",
        "z": "e8cbc43ee4b06972",
        "group": "c9d9069290d891bf",
        "name": "STOP",
        "order": 2,
        "width": "2",
        "height": "2",
        "format": "\n<md-button class=\"vibrate filled touched bigfont rounded\" style=\"background-color:#c0392b\" ng-click=\"send({payload: 'STOP'})\"> \n    STOP<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 450,
        "y": 80,
        "wires": [
            [
                "4394c68be09f3d9a"
            ]
        ]
    },
    {
        "id": "17a9ace53558182e",
        "type": "ui_template",
        "z": "e8cbc43ee4b06972",
        "group": "c9d9069290d891bf",
        "name": "Start",
        "order": 1,
        "width": "2",
        "height": "2",
        "format": "\n<md-button class=\"filled touched bigfont rounded vibrate\" style=\"background-color:#27ae60\" ng-click=\"send({payload: 'Start'})\"> \n    Start<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 450,
        "y": 120,
        "wires": [
            [
                "b546e09338aee046"
            ]
        ]
    },
    {
        "id": "93a9d05f5295c895",
        "type": "ui_template",
        "z": "e8cbc43ee4b06972",
        "group": "c9d9069290d891bf",
        "name": "PAUSE",
        "order": 3,
        "width": "2",
        "height": "2",
        "format": "\n<md-button class=\"vibrate filled touched bigfont rounded\" style=\"background-color:#2980b9\"   ng-click=\"send({payload: 'Hello World'})\"> \n    PAUSE<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 460,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "53e5f3fa56fdcea4",
        "type": "ui_template",
        "z": "e8cbc43ee4b06972",
        "group": "c9d9069290d891bf",
        "name": "Reset",
        "order": 3,
        "width": "2",
        "height": "2",
        "format": "\n<md-button class=\"vibrate filled touched bigfont rounded\" style=\"background-color:#16cbf0\"   ng-click=\"send({payload: 'reset'})\"> \n    Reset<br/>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 450,
        "y": 200,
        "wires": [
            [
                "719f2bae44249560",
                "b81dab0edb7fd128"
            ]
        ]
    },
    {
        "id": "a38018e1de09ade6",
        "type": "ui_template",
        "z": "e8cbc43ee4b06972",
        "group": "c9d9069290d891bf",
        "name": "css etc",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<style>\n  .filled { \n      height: 100% !important;\n\n      padding: 0 !important;\n      margin: 0 !important;\n  }\n  .nr-dashboard-template {\n      padding: 0;\n      margin: 0;\n  }\n  \n  .rounded {\n  border-radius: 12px 12px 12px 12px;\n}\n \n   .bigfont {\n  font-size: 18px;\n}\n\n   .smallfont {\n  font-size: 12px;\n}\n  \n</style>\n\n<script>\n$('.vibrate').on('click', function() {\n  navigator.vibrate(100);\n});\n\nfunction restore_bg(x) {\n            $(this).css(\"background-color\", x);\n    };\n\n$('.touched').on('mousedown', function() {\n    \n    var x= $(this).css(\"background-color\");\n    $(this).css(\"background-color\", \"yellow\");\n    \n    setTimeout(restore_bg.bind(this,x),100);\n    navigator.vibrate(80);\n    });\n    \n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 460,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "7fea440be4c7185e",
        "type": "ui_slider",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "label": "<b>Speed</b>",
        "tooltip": "",
        "group": "6ff86997e5986564",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "end",
        "topic": "topic",
        "topicType": "msg",
        "min": "1",
        "max": "3",
        "step": 1,
        "className": "",
        "x": 260,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "70be5d5c8946e242",
        "type": "ui_dropdown",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "label": "<b>Position</b>",
        "tooltip": "Position",
        "place": "Select option",
        "group": "6ff86997e5986564",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Middle",
                "value": "Middle",
                "type": "str"
            },
            {
                "label": "Left",
                "value": "Left",
                "type": "str"
            },
            {
                "label": "Right",
                "value": "Right",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 260,
        "y": 300,
        "wires": [
            [
                "c0ef3e110619c699",
                "ba80c5a5663812c7"
            ]
        ]
    },
    {
        "id": "86812d7be1e2cd54",
        "type": "ui_numeric",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "label": "<b>Number of balls</b>",
        "tooltip": "",
        "group": "6ff86997e5986564",
        "order": 2,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "format": "{{value}}",
        "min": 0,
        "max": "5",
        "step": "1",
        "className": "",
        "x": 110,
        "y": 220,
        "wires": [
            [
                "f204cb5ea4bcc6af",
                "81cf8adefac003ca"
            ]
        ]
    },
    {
        "id": "f776e4f3c501fccd",
        "type": "function",
        "z": "e8cbc43ee4b06972",
        "name": "X_slide",
        "func": "var x_value = global.get(\"X\");\nvar possition = global.get(\"X_possition\");\n\n\nif (msg.payload == \"Middle\"){\n    if (possition == \"Left\"){\n        x_value = 370;\n    }else if (possition == \"Right\"){\n         x_value = -370;\n    }\n    global.set(\"X_possition\",\"Middle\");\n}\n\nif (msg.payload == \"Left\"){\n    if (possition == \"Middle\"){\n        x_value = -370;\n    }else if (possition == \"Right\"){\n         x_value = -740;\n    }\n     global.set(\"X_possition\",\"Left\");\n}\nif (msg.payload == \"Right\"){\n    if (possition == \"Middle\"){\n        x_value =  370;\n    }else if (possition == \"Left\"){\n         x_value = 740;\n    }\n    global.set(\"X_possition\",\"Right\");\n}\nglobal.set(\"X\",x_value);\nmsg.payload = \"X\"+x_value.toString();\nnode.status({fill:\"green\",shape:\"dot\",text:\"x_current:\"+x_value.toString()});\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 300,
        "wires": [
            [
                "9bed371e8b52c6a3",
                "49a2d828ecd0a7c3"
            ]
        ]
    },
    {
        "id": "9bed371e8b52c6a3",
        "type": "link out",
        "z": "e8cbc43ee4b06972",
        "name": "out_step",
        "mode": "link",
        "links": [
            "888b59e5e587f3d7"
        ],
        "x": 925,
        "y": 440,
        "wires": []
    },
    {
        "id": "49a2d828ecd0a7c3",
        "type": "debug",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 580,
        "wires": []
    },
    {
        "id": "c0ef3e110619c699",
        "type": "rbe",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 510,
        "y": 300,
        "wires": [
            [
                "ba80c5a5663812c7",
                "48ab2fed19913afc"
            ]
        ]
    },
    {
        "id": "ba80c5a5663812c7",
        "type": "debug",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 470,
        "y": 380,
        "wires": []
    },
    {
        "id": "295da76f2825e987",
        "type": "inject",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 80,
        "y": 480,
        "wires": [
            [
                "b81dab0edb7fd128"
            ]
        ]
    },
    {
        "id": "b81dab0edb7fd128",
        "type": "function",
        "z": "e8cbc43ee4b06972",
        "name": "reset",
        "func": "var x_value = 0;\nglobal.set(\"X\",x_value);\nnode.status({fill:\"green\",shape:\"dot\",text:\"x_current:\"+x_value.toString()});\nmsg.payload =\"Left\";\nglobal.set(\"X_possition\",\"Left\");\nglobal.set(\"loop_count\",0);\nglobal.set(\"vitri_X\",0);\nglobal.set(\"vitri_Y\",0);\nglobal.set(\"vitri_Z\",0);\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 480,
        "wires": [
            [
                "70be5d5c8946e242",
                "ba42030561bf5ec7",
                "7ac1aa0e0ce8934c"
            ]
        ]
    },
    {
        "id": "a073535df0c15ef3",
        "type": "function",
        "z": "e8cbc43ee4b06972",
        "name": "set vitri_Z = 0",
        "func": "global.set(\"vitri_Z\",0);\nnode.status({fill:\"green\",shape:\"dot\",text:\"vitri_Z: 0\"});\nmsg.payload = \"Z0\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 480,
        "wires": [
            [
                "9bed371e8b52c6a3",
                "ee9603ae9d4c31c4"
            ]
        ]
    },
    {
        "id": "36b1d7dd863dc583",
        "type": "function",
        "z": "e8cbc43ee4b06972",
        "name": "vitri_Z",
        "func": "var vitri_Z = global.get(\"vitri_Z\");\nnode.status({fill:\"green\",shape:\"dot\",text:\"vitri_Z: \"+ vitri_Z.toString()});\n\nvar begin = 0;\nvar end = 20;\n\nvar vitri_Zmoi = msg.payload;\nvar quangduong;\nif (vitri_Zmoi>vitri_Z){\n    quangduong = vitri_Zmoi-vitri_Z;\n}else if(vitri_Zmoi<vitri_Z){\n    quangduong = -(vitri_Z - vitri_Zmoi);\n}\nglobal.set(\"vitri_Z\",vitri_Zmoi);\n//msg.payload= quangduong;\nmsg.payload = \"Z\"+quangduong.toString();\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 660,
        "wires": [
            [
                "9bed371e8b52c6a3"
            ]
        ]
    },
    {
        "id": "0ec7e41347981e63",
        "type": "ui_slider",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "label": "<b>Z corner</b>",
        "tooltip": "",
        "group": "6ff86997e5986564",
        "order": 5,
        "width": "1",
        "height": "4",
        "passthru": true,
        "outs": "end",
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "20",
        "step": "4",
        "className": "",
        "x": 230,
        "y": 660,
        "wires": [
            [
                "1f580fd231698d0e"
            ]
        ]
    },
    {
        "id": "1f580fd231698d0e",
        "type": "rbe",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 410,
        "y": 660,
        "wires": [
            [
                "36b1d7dd863dc583"
            ]
        ]
    },
    {
        "id": "ba42030561bf5ec7",
        "type": "function",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "func": "msg.payload = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 100,
        "y": 560,
        "wires": [
            [
                "0ec7e41347981e63"
            ]
        ]
    },
    {
        "id": "719f2bae44249560",
        "type": "debug",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 790,
        "y": 220,
        "wires": []
    },
    {
        "id": "f204cb5ea4bcc6af",
        "type": "debug",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 390,
        "y": 240,
        "wires": []
    },
    {
        "id": "010e833ada1c9fe0",
        "type": "link out",
        "z": "e8cbc43ee4b06972",
        "name": "out_servo",
        "mode": "link",
        "links": [
            "9bb01c7d740833d5"
        ],
        "x": 1265,
        "y": 240,
        "wires": []
    },
    {
        "id": "e62cfdaa74d3ae24",
        "type": "split",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 830,
        "y": 120,
        "wires": [
            [
                "03ecdc60feb3fb44"
            ]
        ]
    },
    {
        "id": "81cf8adefac003ca",
        "type": "function",
        "z": "e8cbc43ee4b06972",
        "name": "num_ball",
        "func": "var ball =[];\n\nfor (var j = 0; j<msg.payload;j++){\n    ball.push(j);\n}\n\nglobal.set(\"ball\", ball);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 160,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "b546e09338aee046",
        "type": "function",
        "z": "e8cbc43ee4b06972",
        "name": "ball",
        "func": "msg.payload = global.get(\"ball\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 120,
        "wires": [
            [
                "e62cfdaa74d3ae24",
                "f15601da40bf79cd"
            ]
        ]
    },
    {
        "id": "03ecdc60feb3fb44",
        "type": "delay",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1120,
        "y": 100,
        "wires": [
            [
                "dd4993054e6673f6"
            ]
        ]
    },
    {
        "id": "f15601da40bf79cd",
        "type": "debug",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 790,
        "y": 160,
        "wires": []
    },
    {
        "id": "1ac418962ce2a49e",
        "type": "debug",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1330,
        "y": 360,
        "wires": []
    },
    {
        "id": "dd4993054e6673f6",
        "type": "function",
        "z": "e8cbc43ee4b06972",
        "name": "SEND C",
        "func": "msg.payload = \"C\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 60,
        "wires": [
            [
                "1ac418962ce2a49e",
                "010e833ada1c9fe0"
            ]
        ]
    },
    {
        "id": "4394c68be09f3d9a",
        "type": "change",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 80,
        "wires": [
            [
                "03ecdc60feb3fb44"
            ]
        ]
    },
    {
        "id": "d1a4f7b862fe8aca",
        "type": "link in",
        "z": "e8cbc43ee4b06972",
        "name": "in_reset",
        "links": [
            "117550c86d9ead8b"
        ],
        "x": 95,
        "y": 380,
        "wires": [
            [
                "b81dab0edb7fd128"
            ]
        ]
    },
    {
        "id": "ee9603ae9d4c31c4",
        "type": "trigger",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "nul",
        "op2type": "str",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 380,
        "y": 580,
        "wires": [
            [
                "329dd23bdd00a2b3"
            ]
        ]
    },
    {
        "id": "329dd23bdd00a2b3",
        "type": "function",
        "z": "e8cbc43ee4b06972",
        "name": "set vitri_Y = 0",
        "func": "global.set(\"vitri_Y\",0);\nnode.status({fill:\"green\",shape:\"dot\",text:\"vitri_Y: 0\"});\nmsg.payload = \"Y0\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 580,
        "wires": [
            [
                "9bed371e8b52c6a3"
            ]
        ]
    },
    {
        "id": "7ac1aa0e0ce8934c",
        "type": "trigger",
        "z": "e8cbc43ee4b06972",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "nul",
        "op2type": "str",
        "duration": "2",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 400,
        "y": 480,
        "wires": [
            [
                "a073535df0c15ef3"
            ]
        ]
    },
    {
        "id": "48ab2fed19913afc",
        "type": "function",
        "z": "e8cbc43ee4b06972",
        "name": "X_slide",
        "func": "var x_axis;\nif (msg.payload == \"Left\"){\n\tx_axis = 0;\n}else if (msg.payload == \"Middle\"){\nx_axis = 370;\n\n}else if (msg.payload == \"Right\"){\nx_axis = 740;\n}\n       var vantoc_X  = 20;\n       var vittricu_X = global.get(\"vitri_X\") || 0;\n        var cost_time = 0;\n       var vitrimoi_X = x_axis;\n        global.set(\"vitri_X\",vitrimoi_X);\n\n       var quangduong_X =  _quangduong(vitrimoi_X,vittricu_X);\n  \n       var thoigian_X = Math.round(Math.abs(quangduong_X)/ vantoc_X);\n       cost_time+= thoigian_X;\n        msg.cost_time_X = thoigian_X;\n       global.set(\"cost_time_X\", thoigian_X*1000);\n\nmsg.payload = \"X\"+quangduong_X.toString();\nnode.status({fill:\"red\",shape:\"ring\",text:\"payload: \"+msg.payload});\n if (msg.payload.indexOf(\"X0\") == -1){\nreturn msg;\n}\n\n\n\n\n\nfunction _quangduong(vitrimoi,vitricu){\nvar quangduong;\nif (vitrimoi>=vitricu){\n    quangduong = vitrimoi-vitricu;\n}else if(vitrimoi<vitricu){\n    quangduong = -(vitricu - vitrimoi);\n}\nreturn quangduong;\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 360,
        "wires": [
            [
                "9bed371e8b52c6a3"
            ]
        ]
    },
    {
        "id": "d1b3efaf8b854fed",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "X_slide",
        "func": "var x_value = global.get(\"X\");\nvar possition = global.get(\"X_possition\");\n\n\nif (msg.payload == \"Middle\"){\n    if (possition == \"Left\"){\n        x_value = 370;\n    }else if (possition == \"Right\"){\n         x_value = -370;\n    }\n    global.set(\"X_possition\",\"Middle\");\n}\n\nif (msg.payload == \"Left\"){\n    if (possition == \"Middle\"){\n        x_value = -370;\n    }else if (possition == \"Right\"){\n         x_value = -740;\n    }\n     global.set(\"X_possition\",\"Left\");\n}\nif (msg.payload == \"Right\"){\n    if (possition == \"Middle\"){\n        x_value =  370;\n    }else if (possition == \"Left\"){\n         x_value = 740;\n    }\n    global.set(\"X_possition\",\"Right\");\n}\nglobal.set(\"X\",x_value);\nmsg.payload = \"X\"+x_value.toString();\nnode.status({fill:\"green\",shape:\"dot\",text:\"x_current:\"+x_value.toString()});\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 200,
        "wires": [
            [
                "f9dad9fe657be9d9"
            ]
        ]
    },
    {
        "id": "f9dad9fe657be9d9",
        "type": "link out",
        "z": "48abbfe5ea35d160",
        "name": "out_step",
        "mode": "link",
        "links": [
            "888b59e5e587f3d7"
        ],
        "x": 1205,
        "y": 220,
        "wires": []
    },
    {
        "id": "1301ded9c10d959a",
        "type": "rbe",
        "z": "48abbfe5ea35d160",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 630,
        "y": 260,
        "wires": [
            [
                "dade80e087d99ae0"
            ]
        ]
    },
    {
        "id": "dade80e087d99ae0",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "vitri_Z",
        "func": "var vitri_Z = global.get(\"vitri_Z\");\nnode.status({fill:\"green\",shape:\"dot\",text:\"vitri_Z: \"+ vitri_Z.toString()});\n\nvar begin = 0;\nvar end = 20;\n\nvar vitri_Zmoi = msg.payload;\nvar quangduong;\nif (vitri_Zmoi>vitri_Z){\n    quangduong = vitri_Zmoi-vitri_Z;\n}else if(vitri_Zmoi<vitri_Z){\n    quangduong = -(vitri_Z - vitri_Zmoi);\n}\nglobal.set(\"vitri_Z\",vitri_Zmoi);\n//msg.payload= quangduong;\nmsg.payload = \"Z\"+quangduong.toString();\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 260,
        "wires": [
            [
                "f9dad9fe657be9d9"
            ]
        ]
    },
    {
        "id": "a905a60082bbfe79",
        "type": "rbe",
        "z": "48abbfe5ea35d160",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 630,
        "y": 320,
        "wires": [
            [
                "a6a6b67e26596253"
            ]
        ]
    },
    {
        "id": "a6a6b67e26596253",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "vitri_Y",
        "func": "var vitri_Y = global.get(\"vitri_Y\");\nnode.status({fill:\"green\",shape:\"dot\",text:\"vitri_Y: \"+ vitri_Y.toString()});\n\nvar begin = 0;\nvar end = 20;\n\nvar vitri_Ymoi = msg.payload;\nvar quangduong;\nif (vitri_Ymoi>vitri_Y){\n    quangduong = vitri_Ymoi-vitri_Y;\n}else if(vitri_Ymoi<vitri_Y){\n    quangduong = -(vitri_Y - vitri_Ymoi);\n}\nglobal.set(\"vitri_Y\",vitri_Ymoi);\n//msg.payload= quangduong;\nmsg.payload = \"Y\"+quangduong.toString();\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 320,
        "wires": [
            [
                "f9dad9fe657be9d9"
            ]
        ]
    },
    {
        "id": "ee5066380b599da0",
        "type": "rbe",
        "z": "48abbfe5ea35d160",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 630,
        "y": 200,
        "wires": [
            [
                "d1b3efaf8b854fed"
            ]
        ]
    },
    {
        "id": "589e8a242d289e37",
        "type": "switch",
        "z": "48abbfe5ea35d160",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 310,
        "y": 240,
        "wires": [
            [
                "ee5066380b599da0"
            ],
            [
                "1301ded9c10d959a"
            ],
            [
                "a905a60082bbfe79"
            ],
            [
                "2fa0c9fec3ae780e"
            ]
        ]
    },
    {
        "id": "2fa0c9fec3ae780e",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "ball",
        "func": "msg.payload = global.get(\"ball\");\nmsg.delay = 10000;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 420,
        "wires": [
            [
                "119428cad0511198"
            ]
        ]
    },
    {
        "id": "119428cad0511198",
        "type": "split",
        "z": "48abbfe5ea35d160",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 730,
        "y": 420,
        "wires": [
            [
                "98c2e05ae5912e98"
            ]
        ]
    },
    {
        "id": "4235fd48c55c8f05",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "SEND C",
        "func": "msg.payload = \"C\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "b910d606bf925379",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 340,
        "y": 460,
        "wires": [
            [
                "2fa0c9fec3ae780e"
            ]
        ]
    },
    {
        "id": "016214c4aab97eb1",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "",
        "func": "let timer = context.get(\"timer\") || false;\n if (!timer) {\n            timer = setTimeout(()=>{\n                context.set(\"timer\", false);\n                node.send({payload:{on:true}});\n            },3000);\n            context.set(\"timer\",timer);\n }\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 500,
        "wires": [
            [
                "a1817ccc869faec5"
            ]
        ]
    },
    {
        "id": "f74a25e9d85e929b",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 480,
        "wires": [
            [
                "016214c4aab97eb1",
                "42b3733b01cedcbb"
            ]
        ]
    },
    {
        "id": "a1817ccc869faec5",
        "type": "debug",
        "z": "48abbfe5ea35d160",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 470,
        "y": 500,
        "wires": []
    },
    {
        "id": "42b3733b01cedcbb",
        "type": "debug",
        "z": "48abbfe5ea35d160",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 330,
        "y": 400,
        "wires": []
    },
    {
        "id": "4b93d0e0937bafc3",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 680,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "98c2e05ae5912e98",
        "type": "trigger",
        "z": "48abbfe5ea35d160",
        "name": "",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 900,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "4e36bbb3331e5dfc",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "send ball",
        "func": "global.set(\"count_ball\", 0);\nfor( var k=0; k<5;k++){\n      setTimeout(function(){\n        node.send({payload: \"C\"});\n      }, 2000*k);\n      \n\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1520,
        "y": 1120,
        "wires": [
            [
                "f3c269f8ae12aac8"
            ]
        ]
    },
    {
        "id": "f3c269f8ae12aac8",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "limit ball",
        "func": "var count_ball = global.get(\"count_ball\") || 0;\ncount_ball++;\nglobal.set(\"count_ball\",count_ball);\nnode.status({fill:\"red\",shape:\"ring\",text:\"count_ball: \"+count_ball.toString()});\n\nif (count_ball<5){\nreturn [msg,null];\n}else{\nreturn [null,msg];    \n}",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1720,
        "y": 1120,
        "wires": [
            [],
            [
                "20efdc6869119e06"
            ]
        ]
    },
    {
        "id": "794ec57262b61f6d",
        "type": "split",
        "z": "48abbfe5ea35d160",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 2070,
        "y": 840,
        "wires": [
            [
                "b1b0c013f5c1e5f0"
            ]
        ]
    },
    {
        "id": "b1b0c013f5c1e5f0",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "deny duplication",
        "func": "var last_x = global.get(\"last_x\") || 0;\nvar last_y = global.get(\"last_y\") || 0;\nvar last_z = global.get(\"last_z\") || 0;\n\nif (msg.payload.hasOwnProperty('X')){\n    if (msg.payload.X != last_x){\n          last_x =msg.payload.X;\n          global.set(\"last_x\", last_x);\n        msg.payload = msg.payload.X;\n       \n        return msg;\n    }\n    \n}\n\n\nif (msg.payload.hasOwnProperty('Y')){\n    if (msg.payload.Y != last_y){\n          last_y =msg.payload.Y;\n          global.set(\"last_y\", last_y);\n        msg.payload = msg.payload.Y;\n       \n        return msg;\n}\n}\nif (msg.payload.hasOwnProperty('Z')){\n    if (msg.payload.Z != last_z){\n          last_z =msg.payload.Z;\n          global.set(\"last_z\", last_z);\n        msg.payload = msg.payload.Z;\n       \n        return msg;\n}\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2300,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "017e41e5c3687b7a",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "",
        "func": "var last = global.get(\"last\") || [];\nvar tnow = [{X:\"Middle\"},{Y: -100},{Z:20}];\nvar temp = [];\nfor (j=0;j<tnow.length;j++){\n    var item =  tnow[j];\n    if ( indexOf(last,item)  != -1){\n        temp.push();\n    }\n}\n\nmsg.payload = temp;\nreturn msg;\n\n\nfunction indexOf(array,item ) {\n    for (var i = 0; i < array.length; i++) {\n        if (array[i].toString() === item.toString()) return i;\n    }\n    return -1;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1220,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "f0f63876aa433c2d",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1200,
        "y": 1160,
        "wires": [
            [
                "878a31c3c071b4c3"
            ]
        ]
    },
    {
        "id": "878a31c3c071b4c3",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "",
        "func": "var first = [ 1, 2, 3, 4, 5 ];\nvar second = [ 4, 5, 6 ];\n \nvar difference = first.filter(x => second.indexOf(x) === -1);\nmsg.payload = difference;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 900,
        "wires": [
            [
                "0717121523979baa"
            ]
        ]
    },
    {
        "id": "0717121523979baa",
        "type": "debug",
        "z": "48abbfe5ea35d160",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 1400,
        "wires": []
    },
    {
        "id": "00ea0d716bf5c6ed",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 820,
        "y": 1000,
        "wires": [
            [
                "017e41e5c3687b7a"
            ]
        ]
    },
    {
        "id": "e3035b0666f14396",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "",
        "func": "var vitri_Z = global.get(\"vitri_Z\");\nnode.status({fill:\"green\",shape:\"dot\",text:\"vitri_Z: \"+ vitri_Z.toString()});\n\nvar begin = 0;\nvar end = 20;\n\nvar vitri_Zmoi = msg.payload;\nvar quangduong;\nif (vitri_Zmoi>vitri_Z){\n    quangduong = vitri_Zmoi-vitri_Z;\n}else if(vitri_Zmoi<vitri_Z){\n    quangduong = -(vitri_Z - vitri_Zmoi);\n}\nglobal.set(\"vitri_Z\",vitri_Zmoi);\n//msg.payload= quangduong;\nmsg.payload = \"Z\"+quangduong.toString();\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 1320,
        "wires": [
            []
        ]
    },
    {
        "id": "c45c56713c99b4c8",
        "type": "debug",
        "z": "48abbfe5ea35d160",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1890,
        "y": 1260,
        "wires": []
    },
    {
        "id": "4e1a9b250809d387",
        "type": "switch",
        "z": "48abbfe5ea35d160",
        "name": "",
        "property": "order",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "count_real_action",
                "vt": "global"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1710,
        "y": 1200,
        "wires": [
            [
                "c45c56713c99b4c8",
                "e4580aa31e22c1e8"
            ]
        ]
    },
    {
        "id": "e4580aa31e22c1e8",
        "type": "trigger",
        "z": "48abbfe5ea35d160",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 1480,
        "y": 1160,
        "wires": [
            [
                "4e36bbb3331e5dfc"
            ]
        ]
    },
    {
        "id": "20efdc6869119e06",
        "type": "link out",
        "z": "48abbfe5ea35d160",
        "name": "continue",
        "mode": "link",
        "links": [
            "52e81be9574e73a5",
            "5e44b2a13e4c33f7",
            "6e236acf9256c073",
            "e79d19c87e3dbe37"
        ],
        "x": 2125,
        "y": 1160,
        "wires": []
    },
    {
        "id": "52e81be9574e73a5",
        "type": "link in",
        "z": "48abbfe5ea35d160",
        "name": "",
        "links": [
            "20efdc6869119e06",
            "db05895b7674a3f3",
            "d6e86f3bc24fba55",
            "46406b6e4e85f054"
        ],
        "x": 635,
        "y": 1280,
        "wires": [
            []
        ]
    },
    {
        "id": "8c4abc318971775c",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "",
        "func": "var vitri_Z = global.get(\"vitri_Z\") || 0;\nvar vitri_Zmoi = msg.payload;\nglobal.set(\"vitri_Z\",vitri_Zmoi);\n\nvar quangduong =  _quangduong(vitri_Zmoi,vitri_Z);\nmsg.payload = \"Z\"+quangduong;//.toString();\nreturn msg;\n\n\nfunction _quangduong(vitrimoi,vitricu){\nvar quangduong;\nif (vitrimoi>vitricu){\n    quangduong = vitrimoi-vitricu;\n}else if(vitrimoi<vitricu){\n    quangduong = -(vitricu - vitrimoi);\n}\nreturn quangduong;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 1220,
        "wires": [
            [
                "e6516f0c6c299d57"
            ]
        ]
    },
    {
        "id": "7f72b258b7e70e04",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "200",
        "payloadType": "num",
        "x": 1190,
        "y": 1220,
        "wires": [
            [
                "8c4abc318971775c"
            ]
        ]
    },
    {
        "id": "e6516f0c6c299d57",
        "type": "debug",
        "z": "48abbfe5ea35d160",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1530,
        "y": 1220,
        "wires": []
    },
    {
        "id": "031eb17a77435090",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "720",
        "props": [
            {
                "p": "vitrimoi",
                "v": "720",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1210,
        "y": 1060,
        "wires": [
            [
                "79dbeab759db067b"
            ]
        ]
    },
    {
        "id": "b9fab28790679a41",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "360",
        "props": [
            {
                "p": "vitrimoi",
                "v": "360",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1333.7999877929688,
        "y": 1521,
        "wires": [
            [
                "79dbeab759db067b"
            ]
        ]
    },
    {
        "id": "a6fb09e4292988c4",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "3",
        "props": [
            {
                "p": "vitrimoi",
                "v": "3",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1330,
        "y": 1460,
        "wires": [
            [
                "79dbeab759db067b"
            ]
        ]
    },
    {
        "id": "968f9ab091e79ff8",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "10",
        "props": [
            {
                "p": "vitrimoi",
                "v": "10",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1330,
        "y": 1400,
        "wires": [
            [
                "79dbeab759db067b"
            ]
        ]
    },
    {
        "id": "7d05f84dede7c0d8",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "5",
        "props": [
            {
                "p": "vitrimoi",
                "v": "5",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1330,
        "y": 1340,
        "wires": [
            [
                "79dbeab759db067b"
            ]
        ]
    },
    {
        "id": "cb072e376d8bee14",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "",
        "props": [
            {
                "p": "vitrimoi",
                "v": "0",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1330,
        "y": 1280,
        "wires": [
            [
                "79dbeab759db067b"
            ]
        ]
    },
    {
        "id": "79dbeab759db067b",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "vitri",
        "func": "var vitri_Z = global.get(\"vitri_Z\") || 0;\nvar vitri_Zmoi = msg.payload;\nglobal.set(\"vitri_Z\",vitri_Zmoi);\n\nvar quangduong =  _quangduong(vitri_Zmoi,vitri_Z);\nmsg.payload = \"Z\"+quangduong;\n\nreturn msg;\n\n\nfunction _quangduong(vitrimoi,vitricu){\nvar quangduong;\nif (vitrimoi>vitricu){\n    quangduong = vitrimoi-vitricu;\n}else if(vitrimoi<vitricu){\n    quangduong = -(vitricu - vitrimoi);\n}\nreturn quangduong;\n\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1510,
        "y": 1280,
        "wires": [
            [
                "bed23ffdd1e060c3"
            ]
        ]
    },
    {
        "id": "bed23ffdd1e060c3",
        "type": "debug",
        "z": "48abbfe5ea35d160",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1690,
        "y": 1280,
        "wires": []
    },
    {
        "id": "6e638c9bf5d9f5bd",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "500",
        "payloadType": "num",
        "x": 1210,
        "y": 1160,
        "wires": [
            [
                "8c4abc318971775c"
            ]
        ]
    },
    {
        "id": "9b65f9737dd758af",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "100",
        "payloadType": "num",
        "x": 1170,
        "y": 1280,
        "wires": [
            [
                "8c4abc318971775c"
            ]
        ]
    },
    {
        "id": "1a61dd22f583da25",
        "type": "debug",
        "z": "48abbfe5ea35d160",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 950,
        "y": 1280,
        "wires": []
    },
    {
        "id": "67dbe11cc1ccc405",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "",
        "func": "var vitri_Z = global.get(\"vitri_Z\");\nnode.status({fill:\"green\",shape:\"dot\",text:\"vitri_Z: \"+ vitri_Z.toString()});\n\nvar begin = 0;\nvar end = 20;\n\nvar vitri_Zmoi = msg.payload;\nvar quangduong;\nif (vitri_Zmoi>vitri_Z){\n    quangduong = vitri_Zmoi-vitri_Z;\n}else if(vitri_Zmoi<vitri_Z){\n    quangduong = -(vitri_Z - vitri_Zmoi);\n}\nglobal.set(\"vitri_Z\",vitri_Zmoi);\n//msg.payload= quangduong;\nmsg.payload = \"Z\"+quangduong.toString();\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "17474d47b5a5f494",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "",
        "props": [
            {
                "p": "topic",
                "v": "",
                "vt": "date"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1190,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "449f5fe0d2c7467d",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "",
        "func": "msg.action = [\"X365\",\"Y200\",\"Z12\"];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 1280,
        "wires": [
            []
        ]
    },
    {
        "id": "eb16e861ac7433b7",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "loop",
        "func": "var count_action = msg.action.length;\nvar action = msg.payload;\nvar cost_time = 0;\nreturn msg;\n\n\n\n",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1750,
        "y": 1360,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "c399aaf4d44c39ce",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "loop",
        "func": "var count_action = msg.action.length;\nvar action = msg.action;\nvar cost_time = 0;\nfor( let i=0; i<count_action;i++){\n    if (action[i].indexOf(\"X\")!==-1){\n       var vantoc_X  = 100;\n             var vittricu_X = global.get(\"vitri_X\") || 0;\n\n       var vitrimoi_X = parseInt(action[i].substring(1));\n      // node.status({fill:\"red\",shape:\"ring\",text:\"vitrimoi_X: \"+vitrimoi_X.toString()});\n\n        global.set(\"vitri_X\",vitrimoi_X);\n       var quangduong_X = _quangduong(vitrimoi_X,vittricu_X);\n\n             //node.send({vitrimoi_X:vitrimoi_X,vittricu_X:vittricu_X,quangduong_X:quangduong_X });\n\n       var thoigian_X = Math.round( Math.abs(quangduong_X) / vantoc_X);\n       cost_time+= thoigian_X;\n               node.send({cost_time:cost_time*1000 });\n\n    }else if (action[i].indexOf(\"Y\")!==-1){\n       var vantoc_Y  = 20;\n              var vittricu_Y = global.get(\"vitri_Y\") || 0;\n\n       var vitrimoi_Y = parseInt(action[i].substring(1));\n        global.set(\"vitri_Y\",vitrimoi_Y);\n\n       var quangduong_Y = _quangduong(700,700);\n\n       var thoigian_Y = Math.round(Math.abs(quangduong_Y)/ vantoc_Y);\n      cost_time+= thoigian_Y;\n                     node.send({cost_time:cost_time*1000 });\n\n\n    }else if (action[i].indexOf(\"Z\")!==-1){\n       var vantoc_Z  = 20;\n              var vittricu_Z = global.get(\"vitri_Z\") || 0;\n\n       var vitrimoi_Z = parseInt(action[i].substring(1));\n        global.set(\"vitri_Z\",vitrimoi_Z);\n                       node.status({fill:\"red\",shape:\"ring\",text:\"vitrimoi_Z: \"+vitrimoi_Z.toString()});\n\n       var quangduong_Z = _quangduong(vitrimoi_Z,vittricu_Z);\n       var thoigian_Z = Math.round(Math.abs(quangduong_Z) / vantoc_Z);\n      cost_time+= thoigian_Z;\n                     node.send({cost_time:cost_time*1000 });\n\n  \n    }\n}\n\n\nfor( let k=0; k<count_action;k++){\n \n      setTimeout(function(){\n        node.send({payload: action[k] , order:(k+1) , cost_time:cost_time*1000 });\n      }, 2000*k);\n      \n\n}\n\n\nfunction _quangduong(vitrimoi,vitricu){\nvar quangduong;\nif (vitrimoi>=vitricu){\n    quangduong = vitrimoi-vitricu;\n}else if(vitrimoi<vitricu){\n    quangduong = -(vitricu - vitrimoi);\n}\nreturn quangduong;\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 930,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "87f6b566815ef14c",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "9ba032fb.5b15",
        "type": "function",
        "z": "48abbfe5ea35d160",
        "name": "multi unit delay",
        "func": "let delay = 0;\n\n//==================================\n\nfunction myDelayFunction() {\n  let t = setTimeout(myEndFunction, delay);\n  context.set('tout',t);\n}\n\n\nfunction myEndFunction() {\n  node.send({payload:Date.now()});\n  node.send({payload:msg.payload});  \n}\n\n\nfunction myResetFunction() {\n  let t = context.get('tout');    \n  clearTimeout(t);\n  node.send({payload:Date.now()}); \n  node.send({payload:context.get('pl'),delay:\"reset\"});   \n}\n\n//==================================\n\nif (msg.reset){\n    myResetFunction();\n}\nelse{\n  context.set('pl',msg.payload);    \n  switch(msg.unit) {\n  case \"ms\":\n    delay = msg.delay;\n    break;\n  case \"sec\":\n    delay = msg.delay * 1000;\n    break;\n  case \"min\":\n    delay = msg.delay * 1000*60;\n    break;  \n  case \"std\":\n    delay = msg.delay * 1000*60*60;\n    break;\n  case \"day\":\n    delay = msg.delay * 1000*60*60*24;\n    break;      \n  default:\n    return null;\n}\n  node.send({payload:Date.now()});\n  myDelayFunction();  \n}\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 1500,
        "wires": [
            [
                "92b19abc.1dd9a8"
            ]
        ]
    },
    {
        "id": "54c98a44.4a8724",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "5 min",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "delay",
                "v": "1",
                "vt": "num"
            },
            {
                "p": "unit",
                "v": "min",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Test",
        "payloadType": "str",
        "x": 350,
        "y": 1480,
        "wires": [
            [
                "9ba032fb.5b15"
            ]
        ]
    },
    {
        "id": "92b19abc.1dd9a8",
        "type": "debug",
        "z": "48abbfe5ea35d160",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 670,
        "y": 1500,
        "wires": []
    },
    {
        "id": "764b5560.f001ac",
        "type": "inject",
        "z": "48abbfe5ea35d160",
        "name": "reset",
        "props": [
            {
                "p": "reset",
                "v": "0",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 350,
        "y": 1520,
        "wires": [
            [
                "9ba032fb.5b15"
            ]
        ]
    },
    {
        "id": "8756c7ea33648d26",
        "type": "ui_media",
        "z": "6461f8ecab2fd558",
        "group": "b2adce65b977bdcf",
        "name": "",
        "width": 0,
        "height": 0,
        "order": 0,
        "category": "avt",
        "file": "students.jpg",
        "layout": "adjust",
        "showcontrols": true,
        "loop": true,
        "onstart": true,
        "scope": "local",
        "tooltip": "",
        "x": 450,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "aa827c3e17b42d09",
        "type": "inject",
        "z": "6461f8ecab2fd558",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 260,
        "y": 100,
        "wires": [
            [
                "8756c7ea33648d26"
            ]
        ]
    },
    {
        "id": "870d10b811e508f6",
        "type": "inject",
        "z": "671684f35d427a15",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "30",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 120,
        "wires": [
            [
                "880f454203202df6"
            ]
        ]
    },
    {
        "id": "880f454203202df6",
        "type": "function",
        "z": "671684f35d427a15",
        "name": "",
        "func": "msg.headers = {};\nmsg.headers['Ngrok-Version'] = '2'\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 120,
        "wires": [
            [
                "e4296347d6f6f53e"
            ]
        ]
    },
    {
        "id": "e4296347d6f6f53e",
        "type": "http request",
        "z": "671684f35d427a15",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://api.ngrok.com/endpoints",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "bearer",
        "senderr": false,
        "x": 430,
        "y": 120,
        "wires": [
            [
                "3445c709f18ffeec",
                "0485ff753f298cda"
            ]
        ]
    },
    {
        "id": "3445c709f18ffeec",
        "type": "json",
        "z": "671684f35d427a15",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 590,
        "y": 120,
        "wires": [
            [
                "113a739825e46517"
            ]
        ]
    },
    {
        "id": "113a739825e46517",
        "type": "function",
        "z": "671684f35d427a15",
        "name": "public_url",
        "func": "if (typeof(msg.payload.endpoints[0]) != \"undefined\"){\n\nmsg.payload = msg.payload.endpoints[0].public_url+'/ui';\nmsg.qrcodeinput =msg.payload ;\nreturn msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 140,
        "wires": [
            [
                "4e24e87a7f1ce33e",
                "9336900219885627",
                "0485ff753f298cda"
            ]
        ]
    },
    {
        "id": "4e24e87a7f1ce33e",
        "type": "qrcode-generator",
        "z": "671684f35d427a15",
        "name": "",
        "qrtype": "text2qr",
        "text2qrText": "",
        "ssid": "",
        "hiddenssid": false,
        "wifitype": "",
        "phonenum": "",
        "smsphonenum": "",
        "smstext": "",
        "mailto": "",
        "mailsubject": "",
        "mailbody": "",
        "latitude": "",
        "longitude": "",
        "colorlight": "#ffffff",
        "colordark": "#000000",
        "printstatus": false,
        "x": 550,
        "y": 280,
        "wires": [
            [
                "479173b2034f45b1",
                "5992e5c08da5b115"
            ]
        ]
    },
    {
        "id": "479173b2034f45b1",
        "type": "ui_template",
        "z": "671684f35d427a15",
        "group": "d6a31c55764797d6",
        "name": "",
        "order": 1,
        "width": "5",
        "height": "4",
        "format": "<img src=\"{{msg.payload}}\" alt=\"qr code\" width=\"50\" height=\"50\">\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 620,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "5992e5c08da5b115",
        "type": "debug",
        "z": "671684f35d427a15",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 300,
        "wires": []
    },
    {
        "id": "503c52a66399b3b2",
        "type": "ui_template",
        "z": "671684f35d427a15",
        "group": "d6a31c55764797d6",
        "name": "css",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\nmd-card>img, md-card>md-card-header img, md-card md-card-title-media img{\n    box-sizing: border-box;\n    display: flex;\n    flex: 0 0 auto;\n    width: 60% !important;\n    height: auto;\n}\n\n</style>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 670,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "9336900219885627",
        "type": "ui_text",
        "z": "671684f35d427a15",
        "group": "d6a31c55764797d6",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "link :",
        "format": "<a href=\"{{msg.payload}}\">Click to visit</a>",
        "layout": "col-center",
        "className": "",
        "x": 970,
        "y": 140,
        "wires": []
    },
    {
        "id": "0485ff753f298cda",
        "type": "debug",
        "z": "671684f35d427a15",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 800,
        "y": 40,
        "wires": []
    },
    {
        "id": "2d088bb2c54e5c89",
        "type": "ui_svg_graphics",
        "z": "522db9cc3c903c3e",
        "group": "921524c65c4b6c1f",
        "order": 0,
        "width": 0,
        "height": 0,
        "svgString": "<svg x=\"0\" y=\"0\" width=\"144\" height=\"144\" viewBox=\"0 0 144 144\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<circle id=\"myShape\" cx=\"73\" cy=\"72\" r=\"20\" color=\"red\" outline=\"black\"/>\n</svg>",
        "clickableShapes": [],
        "javascriptHandlers": [],
        "smilAnimations": [],
        "bindings": [],
        "showCoordinates": false,
        "autoFormatAfterEdit": false,
        "showBrowserErrors": false,
        "showBrowserEvents": false,
        "enableJsDebugging": false,
        "sendMsgWhenLoaded": false,
        "noClickWhenDblClick": false,
        "outputField": "payload",
        "editorUrl": "//drawsvg.org/drawsvg.html",
        "directory": "",
        "panning": "disabled",
        "zooming": "disabled",
        "panOnlyWhenZoomed": false,
        "doubleClickZoomEnabled": false,
        "mouseWheelZoomEnabled": false,
        "dblClickZoomPercentage": 150,
        "cssString": "div.ui-svg svg{\n    color: var(--nr-dashboard-widgetColor);\n    fill: currentColor !important;\n}\ndiv.ui-svg path {\n    fill: inherit;\n}",
        "name": "",
        "x": 580,
        "y": 200,
        "wires": [
            [
                "3e3357640948e6ac"
            ]
        ]
    },
    {
        "id": "7ca6f4cfbb5f1e68",
        "type": "inject",
        "z": "522db9cc3c903c3e",
        "name": "change",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"command\":\"replace_svg\",\"svg\":\"<svg x=\\\"0\\\" y=\\\"0\\\" width=\\\"144\\\" height=\\\"144\\\" viewBox=\\\"0 0 144 144\\\" > <circle id=\\\"myShape\\\" cx=\\\"80\\\" cy=\\\"72\\\" r=\\\"20\\\" color=\\\"red\\\" outline=\\\"black\\\"/> </svg>\"}",
        "payloadType": "json",
        "x": 70,
        "y": 200,
        "wires": [
            [
                "2d088bb2c54e5c89"
            ]
        ]
    },
    {
        "id": "3e3357640948e6ac",
        "type": "debug",
        "z": "522db9cc3c903c3e",
        "name": "log events",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 729,
        "y": 281,
        "wires": []
    },
    {
        "id": "16a953b2.21beec",
        "type": "ui_svg_graphics",
        "z": "522db9cc3c903c3e",
        "group": "925439b0.2863c8",
        "order": 0,
        "width": "3",
        "height": "3",
        "svgString": "<svg x=\"0\" y=\"0\" width=\"144\" height=\"144\" viewBox=\"0 0 144 144\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<circle id=\"myShape\" cx=\"73\" cy=\"72\" r=\"20\" color=\"red\" outline=\"black\"/>\n</svg>",
        "clickableShapes": [
            {
                "targetId": "#myShape",
                "action": "click",
                "payload": "myShape clicked",
                "payloadType": "str",
                "topic": "#myShape"
            }
        ],
        "javascriptHandlers": [],
        "smilAnimations": [],
        "bindings": [],
        "showCoordinates": false,
        "autoFormatAfterEdit": false,
        "showBrowserErrors": true,
        "showBrowserEvents": false,
        "enableJsDebugging": false,
        "sendMsgWhenLoaded": false,
        "noClickWhenDblClick": false,
        "outputField": "payload",
        "editorUrl": "//drawsvg.org/drawsvg.html",
        "directory": "",
        "panning": "both",
        "zooming": "disabled",
        "panOnlyWhenZoomed": false,
        "doubleClickZoomEnabled": false,
        "mouseWheelZoomEnabled": false,
        "dblClickZoomPercentage": "150",
        "cssString": "div.ui-svg svg{\n    color: var(--nr-dashboard-widgetColor);\n    fill: currentColor !important;\n}\ndiv.ui-svg path {\n    fill: inherit;\n}",
        "name": "svg-graphics",
        "x": 530,
        "y": 460,
        "wires": [
            [
                "4672821a.2f296c"
            ]
        ]
    },
    {
        "id": "e105ccfb.c2849",
        "type": "inject",
        "z": "522db9cc3c903c3e",
        "name": "SVG with yellow circle",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"command\":\"replace_svg\",\"svg\":\"<svg height=\\\"140\\\" width=\\\"140\\\"><circle id=\\\"myShape\\\" cx=\\\"50\\\" cy=\\\"50\\\" r=\\\"40\\\" fill=\\\"yellow\\\"/></svg>\"}",
        "payloadType": "json",
        "x": 320,
        "y": 680,
        "wires": [
            [
                "16a953b2.21beec"
            ]
        ]
    },
    {
        "id": "b232e2bf.52efb",
        "type": "inject",
        "z": "522db9cc3c903c3e",
        "name": "SVG with blue rectangle",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"command\":\"replace_svg\",\"svg\":\"<svg height=\\\"140\\\" width=\\\"140\\\"><rect id=\\\"myShape\\\" x=\\\"20\\\" y=\\\"30\\\" width=\\\"110\\\" height=\\\"70\\\" fill=\\\"blue\\\"/></svg>\"}",
        "payloadType": "json",
        "x": 320,
        "y": 520,
        "wires": [
            [
                "16a953b2.21beec"
            ]
        ]
    },
    {
        "id": "5f208d4d.047af4",
        "type": "inject",
        "z": "522db9cc3c903c3e",
        "name": "SVG with pink ellipse",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"command\":\"replace_svg\",\"svg\":\"<svg height=\\\"140\\\" width=\\\"140\\\"><ellipse id=\\\"myShape\\\" cx=\\\"60\\\" cy=\\\"50\\\" rx=\\\"60\\\" ry=\\\"30\\\" fill=\\\"pink\\\"/></svg>\"}",
        "payloadType": "json",
        "x": 320,
        "y": 580,
        "wires": [
            [
                "16a953b2.21beec"
            ]
        ]
    },
    {
        "id": "4672821a.2f296c",
        "type": "debug",
        "z": "522db9cc3c903c3e",
        "name": "log events",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 710,
        "y": 460,
        "wires": []
    },
    {
        "id": "37ea8471.28b61c",
        "type": "inject",
        "z": "522db9cc3c903c3e",
        "name": "Get SVG",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"command\":\"get_svg\"}",
        "payloadType": "json",
        "x": 440,
        "y": 160,
        "wires": [
            [
                "87305ca4.779a6"
            ]
        ]
    },
    {
        "id": "87305ca4.779a6",
        "type": "ui_svg_graphics",
        "z": "522db9cc3c903c3e",
        "group": "28a39865.fa3608",
        "order": 0,
        "width": 0,
        "height": 0,
        "svgString": "<svg x=\"0\" y=\"0\" height=\"100\" viewBox=\"0 0 100 100\" width=\"100\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n  <circle id=\"my_circle\" cx=\"50\" cy=\"50\" r=\"40\" stroke=\"black\" stroke-width=\"3\" fill=\"red\" />\n</svg>",
        "clickableShapes": [],
        "javascriptHandlers": [],
        "smilAnimations": [],
        "bindings": [],
        "showCoordinates": false,
        "autoFormatAfterEdit": false,
        "showBrowserErrors": true,
        "showBrowserEvents": false,
        "enableJsDebugging": false,
        "sendMsgWhenLoaded": false,
        "noClickWhenDblClick": false,
        "outputField": "payload",
        "editorUrl": "//drawsvg.org/drawsvg.html",
        "directory": "",
        "panning": "disabled",
        "zooming": "disabled",
        "panOnlyWhenZoomed": false,
        "doubleClickZoomEnabled": false,
        "mouseWheelZoomEnabled": false,
        "dblClickZoomPercentage": 150,
        "cssString": "div.ui-svg svg{\n    color: var(--nr-dashboard-widgetColor);\n    fill: currentColor !important;\n}\ndiv.ui-svg path {\n    fill: inherit;\n}",
        "name": "",
        "x": 650,
        "y": 120,
        "wires": [
            [
                "fe183d94.7e362"
            ]
        ]
    },
    {
        "id": "3acd9c13.254b54",
        "type": "inject",
        "z": "522db9cc3c903c3e",
        "name": "Update SVG",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"command\":\"set_attribute\",\"selector\":\"#my_circle\",\"attributeName\":\"cx\",\"attributeValue\":\"100\"}",
        "payloadType": "json",
        "x": 270,
        "y": 120,
        "wires": [
            [
                "87305ca4.779a6"
            ]
        ]
    },
    {
        "id": "fe183d94.7e362",
        "type": "debug",
        "z": "522db9cc3c903c3e",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 120,
        "wires": []
    },
    {
        "id": "109883d2.04e3cc",
        "type": "ui_button",
        "z": "522db9cc3c903c3e",
        "name": "Get SVG",
        "group": "28a39865.fa3608",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Get SVG",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 180,
        "y": 80,
        "wires": [
            [
                "7ff2e386.cacdac"
            ]
        ]
    },
    {
        "id": "7ff2e386.cacdac",
        "type": "change",
        "z": "522db9cc3c903c3e",
        "name": "get_svg",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"command\":\"get_svg\"}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 80,
        "wires": [
            [
                "87305ca4.779a6"
            ]
        ]
    },
    {
        "id": "c88a8e8518ae7a56",
        "type": "ui_svg_graphics",
        "z": "522db9cc3c903c3e",
        "group": "925439b0.2863c8",
        "order": 1,
        "width": 0,
        "height": 0,
        "svgString": "<svg\n   width=\"175.49356mm\"\n   height=\"83.39444mm\"\n   viewBox=\"0 0 175.49356 83.39444\"\n   version=\"1.1\"\n   id=\"svg5\"\n   xml:space=\"preserve\"\n   xmlns=\"http://www.w3.org/2000/svg\"\n   xmlns:svg=\"http://www.w3.org/2000/svg\"><defs\n     id=\"defs2\" /><g\n     id=\"layer1\"\n     transform=\"translate(-8.228637,-48.615645)\"><g\n       id=\"g46\"\n       transform=\"matrix(0.34957828,0,0,0.27358825,8.5782153,107.66073)\"><path\n         style=\"fill:#7f7f7f;stroke:#4c4c4c;stroke-width:2\"\n         d=\"M 29,59 H 441 V 88 H 29 Z\"\n         id=\"path25\" /><path\n         style=\"fill:#7f7f7f;stroke:#4c4c4c;stroke-width:2\"\n         d=\"M 36,11 15,32 56,73 77,52 81,48 84,42 85,37 86,31 85,26 84,20 81,15 77,11 73,7 68,4 62,3 57,2 51,3 46,4 40,7 Z\"\n         id=\"path27\" /><circle\n         style=\"fill:#b2b2b2;stroke:#4c4c4c;stroke-width:2\"\n         cx=\"441\"\n         cy=\"58\"\n         r=\"29\"\n         id=\"circle29\" /><circle\n         style=\"fill:#b2b2b2;stroke:#4c4c4c;stroke-width:2\"\n         cx=\"29\"\n         cy=\"58\"\n         r=\"29\"\n         id=\"circle31\" /><path\n         style=\"fill:#7f7f7f;stroke:#4c4c4c;stroke-width:2\"\n         d=\"m 491,50 4,-5 3,-5 1,-5 1,-6 L 498,18 492,8 482,2 471,0 H 59 l -6,1 -5,1 -5,3 -5,3 -29,30 4,-4 5,-3 6,-1 5,-1 h 412 l 6,1 5,1 6,3 4,4 4,4 3,5 1,6 1,6 -1,7 -3,7 -5,6 -6,5 z\"\n         id=\"path33\" /><g\n         id=\"g428\"\n         transform=\"matrix(0.18686519,0,0,0.23876758,22.562306,-215.57856)\"><path\n           style=\"fill:#7f7f7f;stroke:#4c4c4c;stroke-width:2\"\n           d=\"M 109,459 153,485 85,605 41,579 Z\"\n           id=\"path350\" /><path\n           style=\"fill:#cccccc;stroke:#4c4c4c;stroke-width:2\"\n           d=\"m 103,793 h 68 V 691 h -68 z\"\n           id=\"path352\" /><path\n           style=\"fill:#b2b2b2;stroke:#4c4c4c;stroke-width:2\"\n           d=\"M 171,691 H 309 V 793 H 171 Z\"\n           id=\"path354\" /><path\n           style=\"fill:#4c4c4c;stroke:#4c4c4c;stroke-width:2\"\n           d=\"m 0,615 25,-46 254,148 -26,44 z\"\n           id=\"path356\" /><path\n           style=\"fill:#999999;stroke:#4c4c4c;stroke-width:2\"\n           d=\"M 119,999 V 965 H 51 v -52 h 68 v -34 h 344 v 34 h 68 v 52 h -68 v 34 z\"\n           id=\"path358\" /><path\n           style=\"fill:#b2b2b2;stroke:#4c4c4c;stroke-width:2\"\n           d=\"m 153,861 h 276 v 86 H 153 Z\"\n           id=\"path360\" /><path\n           style=\"fill:#cccccc;stroke:#4c4c4c;stroke-width:2\"\n           d=\"m 137,845 h 308 v 16 H 137 Z\"\n           id=\"path362\" /><path\n           style=\"fill:#e5e5e5;stroke:#4c4c4c;stroke-width:2\"\n           d=\"m 137,827 h 308 v 18 H 137 Z\"\n           id=\"path364\" /><path\n           style=\"fill:#e5e5e5;stroke:#4c4c4c;stroke-width:2\"\n           d=\"M 257,827 H 463 V 691 H 257 Z\"\n           id=\"path366\" /><path\n           style=\"fill:#cccccc;stroke:#4c4c4c;stroke-width:2\"\n           d=\"M 119,827 V 759 L 257,691 V 827 Z\"\n           id=\"path368\" /><path\n           style=\"fill:#cccccc;stroke:#4c4c4c;stroke-width:2\"\n           d=\"M 429,535 205,415 H 51 l 206,120 z\"\n           id=\"path370\" /><path\n           style=\"fill:#b2b2b2;stroke:#4c4c4c;stroke-width:2\"\n           d=\"m 51,415 -18,52 206,120 18,-52 z\"\n           id=\"path372\" /><path\n           style=\"fill:#e5e5e5;stroke:#4c4c4c;stroke-width:2\"\n           d=\"M 463,707 H 239 l -5,-1 -5,-1 -5,-2 -4,-3 -5,-4 -4,-4 -4,-5 -3,-5 -4,-6 -2,-7 -3,-7 -2,-8 -1,-8 -1,-8 -1,-8 -1,-9 1,-9 1,-9 1,-8 1,-8 2,-7 3,-7 2,-7 4,-6 3,-5 4,-6 4,-4 5,-3 4,-3 5,-2 5,-2 h 5 224 5 l 5,2 5,2 5,3 4,3 5,4 4,6 3,5 4,6 3,7 3,7 2,7 2,8 1,8 1,9 v 9 9 l -1,8 -1,8 -2,8 -2,8 -3,7 -3,7 -4,6 -3,5 -4,5 -5,4 -4,4 -5,3 -5,2 -5,1 z\"\n           id=\"path374\" /><ellipse\n           style=\"fill:#cccccc;stroke:#4c4c4c;stroke-width:2\"\n           cx=\"240\"\n           cy=\"621\"\n           rx=\"51\"\n           ry=\"86\"\n           id=\"ellipse376\" /><path\n           style=\"fill:#e5e5e5;stroke:#4c4c4c;stroke-width:2\"\n           d=\"M 257,329 V 449 H 137 L 67,415 v -68 l 92,-56 5,-3 5,-2 4,-2 6,-2 4,-1 5,-1 5,-1 h 4 l 11,1 10,3 10,5 8,6 8,7 6,9 4,9 z\"\n           id=\"path378\" /><path\n           style=\"fill:#cccccc;stroke:#4c4c4c;stroke-width:2\"\n           d=\"m 389,85 -154,268 -3,3 -3,1 -4,1 h -5 -5 l -6,-2 -6,-2 -6,-3 -6,-4 -5,-4 -5,-4 -3,-5 -2,-4 -1,-5 v -4 -4 l 156,-268 2,-2 3,-1 4,-1 h 5 l 5,1 5,2 6,2 6,3 7,4 5,4 4,5 3,4 3,4 1,5 v 3 z\"\n           id=\"path380\" /><path\n           style=\"fill:#e5e5e5\"\n           d=\"m 381,81 -154,266 -2,3 -3,3 -3,1 -4,1 h -4 l -5,-1 -4,-1 -5,-2 -4,-3 -4,-4 -4,-3 -2,-4 -2,-3 v -4 l 1,-4 1,-3 156,-270 1,-2 3,-1 3,-1 4,-1 h 4 l 4,1 5,2 4,2 5,3 4,3 3,4 3,4 1,4 1,4 -1,3 z\"\n           id=\"path382\" /><path\n           style=\"fill:#ffffff\"\n           d=\"m 367,71 -154,268 -2,3 -2,3 -3,2 -2,2 -2,1 -2,1 -1,1 -2,-1 -1,-1 -1,-2 v -3 -2 -3 -3 l 1,-3 1,-3 156,-270 2,-2 1,-2 2,-1 2,-2 2,-1 h 2 2 1 l 2,2 1,1 1,2 v 2 l -1,3 v 2 l -2,4 z\"\n           id=\"path384\" /><path\n           style=\"fill:#e5e5e5;stroke:#4c4c4c;stroke-width:2\"\n           d=\"m 329,51 3,-2 4,-2 4,-1 h 4 6 l 5,2 6,2 6,3 7,4 5,4 4,5 3,4 3,4 1,5 v 3 l -1,3 -2,3 -3,1 -4,1 h -5 -6 l -6,-2 -6,-2 -6,-3 -5,-4 -6,-4 -4,-4 -3,-4 -3,-4 -1,-5 -1,-3 z\"\n           id=\"path386\" /><path\n           style=\"fill:#e5e5e5;stroke:#4c4c4c;stroke-width:2\"\n           d=\"m 473,81 h -106 -5 l -4,-3 -4,-3 -4,-6 -3,-6 -2,-7 -1,-8 -1,-9 1,-8 1,-7 2,-7 3,-6 4,-5 4,-3 4,-3 h 5 106 4 l 5,3 4,3 3,5 4,6 2,7 2,7 v 8 9 l -2,8 -2,7 -4,6 -3,6 -4,3 -5,3 z\"\n           id=\"path388\" /><ellipse\n           style=\"fill:#cccccc;stroke:#4c4c4c;stroke-width:2\"\n           cx=\"367\"\n           cy=\"40\"\n           rx=\"24\"\n           ry=\"40\"\n           id=\"ellipse390\" /><path\n           style=\"fill:#e5e5e5;stroke:#4c4c4c;stroke-width:2\"\n           d=\"m 461,31 50,50 2,3 1,3 v 4 l -1,4 -2,4 -2,5 -2,5 -4,4 -4,4 -5,3 -4,2 -5,1 -4,1 -3,-1 -4,-1 -3,-3 -50,-50 -2,-2 -1,-4 v -3 l 1,-4 2,-4 2,-5 2,-4 4,-4 4,-3 5,-3 4,-2 5,-2 h 4 3 l 4,1 z\"\n           id=\"path392\" /><path\n           style=\"fill:#cccccc;stroke:#4c4c4c;stroke-width:2\"\n           d=\"m 471,119 -2,-2 -1,-4 v -3 l 1,-4 2,-4 2,-5 2,-4 4,-4 4,-3 5,-3 4,-2 5,-2 h 4 3 l 4,1 3,1 2,3 1,3 v 4 l -1,4 -2,4 -2,5 -2,5 -4,4 -4,4 -5,3 -4,2 -5,1 -4,1 -3,-1 -4,-1 z\"\n           id=\"path394\" /><path\n           style=\"fill:none;stroke:#7f7f7f;stroke-width:2\"\n           d=\"m 243,371 -4,3 -4,3 -5,2 -4,2 -5,2 -5,1 -6,1 h -5 l -11,-1 -10,-3 -9,-6 -9,-7 -7,-8 -5,-10 -3,-11 -2,-12 v -1 l 1,-2 v -1 l 1,-2\"\n           id=\"path396\" /></g><path\n         style=\"fill:#000000;stroke-width:0.855542\"\n         id=\"path797\"\n         d=\"m 74.811663,471.96852 -8.998583,-2.19681 -6.911114,6.16741 -0.691424,-9.23701 -8.001209,-4.66702 8.57126,-3.51198 1.966095,-9.05179 5.988754,7.06649 9.216322,-0.92729 -4.870006,7.87931 z\"\n         transform=\"matrix(0.75686434,0,0,0.96708588,-19.841975,-387.51239)\" /><ellipse\n         style=\"fill:#0000ff;stroke-width:0.47139\"\n         id=\"path1085\"\n         cx=\"28.587399\"\n         cy=\"60.485382\"\n         rx=\"2.3153753\"\n         ry=\"3.0341713\" /></g></g></svg>\n",
        "clickableShapes": [],
        "javascriptHandlers": [],
        "smilAnimations": [],
        "bindings": [],
        "showCoordinates": false,
        "autoFormatAfterEdit": false,
        "showBrowserErrors": false,
        "showBrowserEvents": false,
        "enableJsDebugging": false,
        "sendMsgWhenLoaded": false,
        "noClickWhenDblClick": false,
        "outputField": "payload",
        "editorUrl": "//drawsvg.org/drawsvg.html",
        "directory": "",
        "panning": "disabled",
        "zooming": "disabled",
        "panOnlyWhenZoomed": false,
        "doubleClickZoomEnabled": false,
        "mouseWheelZoomEnabled": false,
        "dblClickZoomPercentage": 150,
        "cssString": "div.ui-svg svg{\n    color: var(--nr-dashboard-widgetColor);\n    fill: currentColor !important;\n}\ndiv.ui-svg path {\n    fill: inherit;\n}",
        "name": "",
        "x": 840,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "da72a1645009b19e",
        "type": "inject",
        "z": "522db9cc3c903c3e",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"command\":\"update_style\",\"selector\":\"#g428\",\"attributeName\":\"transform\",\"attributeValue\":\"matrix(0.18686519,0,0,0.23876758,67.466525,-229.72382)\"}",
        "payloadType": "json",
        "x": 50,
        "y": 820,
        "wires": [
            [
                "987cf78d89e53d7f"
            ]
        ]
    },
    {
        "id": "320dffa82d17cbeb",
        "type": "split",
        "z": "522db9cc3c903c3e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 370,
        "y": 740,
        "wires": [
            [
                "a5ddde1604f614e8"
            ]
        ]
    },
    {
        "id": "987cf78d89e53d7f",
        "type": "function",
        "z": "522db9cc3c903c3e",
        "name": "j",
        "func": "msg.payload = [];\nfor(var j=28; j<170; j++){\n    msg.payload.push(j);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 210,
        "y": 740,
        "wires": [
            [
                "320dffa82d17cbeb"
            ]
        ]
    },
    {
        "id": "3a048ea10e7857f7",
        "type": "function",
        "z": "522db9cc3c903c3e",
        "name": "",
        "func": "var i = msg.payload;\nmsg.payload = {\n    \"command\": \"update_style\",\n    \"selector\": \"#g428\",\n    \"attributeName\": \"transform\",\n    \"attributeValue\": \"matrix(0.18686519,0,0,0.23876758,\"+i.toString()+\".466525,-229.72382)\"\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 840,
        "wires": [
            [
                "c88a8e8518ae7a56"
            ]
        ]
    },
    {
        "id": "a5ddde1604f614e8",
        "type": "delay",
        "z": "522db9cc3c903c3e",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "3",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 570,
        "y": 740,
        "wires": [
            [
                "d668ae66952f3da2"
            ]
        ]
    },
    {
        "id": "14e7e17dc9f5e931",
        "type": "ui_svg_graphics",
        "z": "522db9cc3c903c3e",
        "group": "23b16fbe.b0541",
        "order": 23,
        "width": "12",
        "height": "12",
        "svgString": "<svg\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\n   xmlns:cc=\"http://creativecommons.org/ns#\"\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\n   xmlns=\"http://www.w3.org/2000/svg\"\n   xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n   xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\n   xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\"\n   id=\"svg2\"\n   version=\"1.1\"\n   inkscape:version=\"0.48.2 r9819\"\n   width=\"600\"\n   height=\"600\"\n   viewBox=\"0 0 600 600\"\n   sodipodi:docname=\"gear-anim.svg\">\n  <sodipodi:namedview\n     pagecolor=\"#ffffff\"\n     bordercolor=\"#666666\"\n     borderopacity=\"1\"\n     objecttolerance=\"10\"\n     gridtolerance=\"10\"\n     guidetolerance=\"10\"\n     inkscape:pageopacity=\"0\"\n     inkscape:pageshadow=\"2\"\n     inkscape:window-width=\"1739\"\n     inkscape:window-height=\"838\"\n     id=\"namedview4\"\n     showgrid=\"false\"\n     borderlayer=\"true\"\n     inkscape:showpageshadow=\"false\"\n     inkscape:zoom=\"0.48750832\"\n     inkscape:cx=\"68.256195\"\n     inkscape:cy=\"279.24558\"\n     inkscape:window-x=\"450\"\n     inkscape:window-y=\"46\"\n     inkscape:window-maximized=\"0\"\n     inkscape:current-layer=\"svg2\"\n     showguides=\"false\">\n    <inkscape:grid\n       type=\"xygrid\"\n       id=\"grid3757\"\n       empspacing=\"100\"\n       visible=\"true\"\n       enabled=\"true\"\n       snapvisiblegridlinesonly=\"false\" />\n  </sodipodi:namedview>\n  <metadata\n     id=\"metadata8\">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about=\"\">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id=\"defs6\" />\n\n  <path\n     style=\"fill:#65c4ff;fill-opacity:1\"\n     d=\"m 278.12748,498.21403 c -69.69859,-8.4164 -130.5709,-52.17746 -159.96831,-115.00115 -7.28202,-15.56203 -12.94615,-34.02475 -16.50254,-53.79151 -1.27872,-7.1073 -1.64134,-13.98646 -1.65511,-31.39931 -0.0155,-19.66101 0.23679,-23.64351 2.13372,-33.67463 7.81573,-41.32999 25.60367,-76.04296 53.80536,-105.00057 11.49805,-11.80625 19.59945,-18.56568 32.83899,-27.39936 23.10389,-15.41533 48.98418,-25.69085 77.04457,-30.58977 15.79947,-2.758357 41.78884,-3.370902 57.60632,-1.35773 35.49963,4.5182 67.95944,17.55194 96.51725,38.75504 12.06718,8.95944 32.13673,29.10144 41.17254,41.32114 19.21991,25.99232 31.07564,54.13736 37.22336,88.36681 1.26773,7.05834 1.63946,14.00425 1.65637,30.94425 0.0191,18.88718 -0.26246,23.42102 -2.07846,33.50423 -7.75191,43.04356 -27.57354,80.38704 -58.57872,110.36074 -29.7519,28.7622 -65.12608,46.38751 -107.84789,53.73566 -9.77436,1.68118 -43.2331,2.44992 -53.36745,1.22616 z m 25.2827,-19.30462 c 0.49457,-0.62571 1.1303,-4.00456 1.41272,-7.50854 0.8011,-9.93948 1.26713,-10.42888 9.95465,-10.45401 4.98138,-0.0144 5.40438,0.49727 7.13893,8.63377 1.72009,8.06849 2.27727,8.86791 5.71554,8.19956 1.59418,-0.3099 4.02991,-0.77908 5.41282,-1.04263 l 2.51427,-0.47916 -0.23591,-8.79317 -0.23591,-8.79316 5.28855,-1.6781 c 2.90863,-0.92294 5.91063,-1.43969 6.671,-1.1483 0.76036,0.29138 2.85881,3.80812 4.66327,7.81497 2.11254,4.69109 3.79354,7.27806 4.72091,7.26519 2.71509,-0.0376 9.18672,-3.5267 9.18672,-4.95273 0,-0.78166 -0.81945,-4.37461 -1.82118,-7.98433 -2.10482,-7.58543 -1.86609,-8.08731 5.31718,-11.17493 4.88255,-2.09868 5.68046,-1.67621 10.92555,5.78457 2.16745,3.08311 4.59209,5.60565 5.38809,5.60565 0.7959,0 3.21245,-1.03314 5.37009,-2.29589 4.40054,-2.57539 4.40136,-2.45081 -0.0727,-11.26888 -3.352,-6.60598 -3.09864,-7.66649 2.75918,-11.54946 l 5.08182,-3.36853 6.263,6.20666 6.26309,6.20666 3.672,-2.54129 c 6.16927,-4.26953 6.16527,-4.22498 1.04309,-11.50886 -2.54146,-3.61398 -4.62082,-7.00309 -4.62082,-7.53136 0,-1.75789 7.64127,-8.7658 9.53118,-8.74117 1.02345,0.0133 4.29036,1.85634 7.25991,4.09557 2.96945,2.2392 5.89509,4.0713 6.50127,4.0713 1.16418,0 7.69382,-6.78501 7.69382,-7.9947 0,-0.38967 -2.46073,-3.14016 -5.46818,-6.11224 -3.00746,-2.97207 -5.46819,-6.07442 -5.46819,-6.8941 0,-1.92557 6.11709,-9.94321 7.58619,-9.94321 0.61772,0 4.15427,1.45067 7.85899,3.2237 3.70473,1.77305 7.17909,3.04625 7.72082,2.82934 0.54173,-0.21691 2.01027,-2.31172 3.26336,-4.65513 l 2.27846,-4.26074 -2.35346,-1.98156 c -1.29436,-1.08985 -4.26763,-3.30417 -6.60736,-4.9207 -2.72818,-1.885 -4.25391,-3.60958 -4.25391,-4.80841 0,-2.6101 4.34718,-10.91 5.71428,-10.91 0.61972,0 3.9949,0.81911 7.50045,1.82024 3.50554,1.00115 7.037,1.82026 7.84763,1.82026 1.44237,0 4.45564,-6.21656 4.45564,-9.19216 0,-0.8533 -2.832,-2.71909 -7.29082,-4.80343 -7.97891,-3.7298 -8.08063,-3.90907 -6.27827,-11.05737 1.48546,-5.89135 2.25827,-6.25041 11.35673,-5.2764 8.89372,0.95208 8.83954,0.98634 9.89109,-6.25502 l 0.62072,-4.27494 -3.46618,-0.90989 c -1.90645,-0.50045 -5.40182,-1.38673 -7.76763,-1.96952 -2.36573,-0.58279 -4.72609,-1.57068 -5.24518,-2.1953 -0.9901,-1.19136 0.01,-11.74008 1.22872,-12.95687 0.35273,-0.35226 3.39382,-0.78008 6.758,-0.9507 9.57245,-0.4855 9.90418,-0.63332 10.55591,-4.7033 0.31627,-1.97518 0.19882,-4.57952 -0.26109,-5.78741 -0.76346,-2.00534 -1.49609,-2.24687 -8.43091,-2.77956 -9.23718,-0.70954 -10.06063,-1.49407 -9.68309,-9.22528 l 0.26546,-5.43596 4.10118,-1.11063 c 2.25554,-0.61086 5.844,-1.56029 7.97436,-2.10984 3.70773,-0.95651 3.86936,-1.14355 3.78236,-4.37709 -0.212,-7.88444 -0.27,-7.92853 -10.43354,-7.92853 l -9.06973,0 -1.33654,-5.27409 c -0.89418,-3.52843 -1.04482,-5.7361 -0.45491,-6.66994 0.48491,-0.76772 3.75209,-2.61652 7.26036,-4.10845 3.50827,-1.49193 6.70445,-3.03417 7.10255,-3.4272 0.56027,-0.55311 -2.58982,-11.0617 -3.29555,-10.9939 -0.0891,0.008 -3.23818,0.82067 -6.99754,1.80465 -10.15409,2.65775 -10.20728,2.64315 -13.20555,-3.6215 -2.55591,-5.34024 -2.57263,-5.47686 -0.89791,-7.32495 0.93864,-1.03576 4.08582,-3.32653 6.99364,-5.09059 2.90791,-1.76406 5.28709,-3.60762 5.28709,-4.0968 0,-1.25009 -2.69118,-6.41528 -4.29627,-8.24579 -1.24682,-1.42196 -1.83091,-1.3086 -8.20609,1.59272 -3.775,1.71802 -7.40882,3.12366 -8.07518,3.12366 -1.53491,0 -7.67455,-7.95461 -7.67455,-9.94322 0,-0.81968 2.46073,-3.92202 5.46818,-6.8941 3.00746,-2.97207 5.46809,-5.83522 5.46809,-6.36254 0,-1.60565 -5.51027,-7.74439 -6.95145,-7.74439 -0.74291,0 -3.78073,1.64795 -6.75073,3.66211 -2.97,2.01416 -6.05372,3.91264 -6.85272,4.21883 -1.74764,0.66973 -9.51982,-6.56577 -9.51982,-8.86246 0,-0.83196 2.04609,-4.31541 4.54682,-7.74101 l 4.54681,-6.22834 -2.89636,-2.98427 c -4.71009,-4.85301 -5.629,-4.74136 -12.10727,1.47096 -3.17891,3.04847 -6.08054,5.54268 -6.448,5.54268 -1.79418,0 -10.426,-6.65466 -10.426,-8.03793 0,-0.86335 1.43546,-4.56084 3.18982,-8.21663 1.75436,-3.6558 3.18973,-6.81317 3.18973,-7.01638 0,-0.48923 -6.41855,-4.46767 -8.35891,-5.18112 -1.13064,-0.41577 -2.71973,1.07676 -6.161,5.78691 -2.55054,3.49097 -5.20673,6.56541 -5.90273,6.83212 -1.67172,0.64062 -10.4939,-3.85975 -11.20763,-5.71722 -0.30718,-0.79943 0.32718,-4.46016 1.40982,-8.13494 1.08263,-3.6748 1.96836,-7.07021 1.96836,-7.54536 0,-0.79899 -9.97963,-5.02088 -10.49445,-4.43968 -0.12646,0.14275 -1.92264,3.63837 -3.99146,7.76807 -2.06891,4.12969 -4.20654,7.50852 -4.75036,7.50852 -2.83109,0 -10.94827,-3.06385 -11.62673,-4.38854 -0.43018,-0.83999 -0.46345,-3.9846 -0.0736,-6.98802 1.34391,-10.36088 1.57882,-9.9466 -6.22755,-10.98075 l -4.37781,-0.57996 -2.51382,8.38634 -2.51382,8.38634 -5.87595,-0.37364 c -3.23177,-0.20551 -6.38241,-0.87944 -7.00144,-1.49763 -0.62646,-0.62562 -1.27743,-4.23841 -1.46817,-8.14815 -0.18846,-3.8633 -0.75861,-7.53612 -1.26701,-8.16183 -1.2003,-1.47728 -9.32325,-1.47728 -10.49034,0 -0.49433,0.62571 -1.15938,4.07257 -1.47788,7.65968 -0.31851,3.58713 -0.80755,7.11655 -1.08676,7.84317 -0.56776,1.47757 -12.03749,3.06167 -13.24614,1.82944 -0.38979,-0.39738 -1.68349,-4.20374 -2.87489,-8.45857 -2.39345,-8.54765 -2.09133,-8.3512 -10.49556,-6.82454 l -2.97178,0.53985 0.23771,8.82415 0.23771,8.82416 -5.2885,1.67809 c -2.90867,0.92295 -5.91062,1.43969 -6.67099,1.1483 -0.76036,-0.29138 -2.85883,-3.80811 -4.66326,-7.81496 -2.11258,-4.69109 -3.7936,-7.27806 -4.72097,-7.26519 -2.71503,0.0377 -9.18675,3.52669 -9.18675,4.95273 0,0.78166 0.81955,4.37461 1.8212,7.98433 2.10487,7.58543 1.86608,8.0873 -5.31714,11.17493 -4.88253,2.09868 -5.68048,1.67621 -10.92554,-5.78457 -2.16746,-3.08311 -4.5921,-5.60566 -5.38806,-5.60566 -0.79596,0 -3.21253,1.03315 -5.37015,2.29589 -4.40051,2.5754 -4.40132,2.45082 0.0732,11.26889 3.34672,6.59551 3.09443,7.66931 -2.70526,11.5137 -5.77789,3.82998 -5.30686,3.98104 -12.84228,-4.11857 l -4.65544,-5.004 -3.75408,2.59805 c -6.26226,4.33388 -6.25598,4.26937 -1.12507,11.56564 2.54144,3.61398 4.62079,7.00309 4.62079,7.53135 0,1.7579 -7.64124,8.76581 -9.53116,8.74118 -1.02344,-0.0134 -4.29041,-1.85634 -7.25993,-4.09557 -2.96951,-2.23921 -5.8951,-4.07131 -6.5013,-4.07131 -1.16685,0 -7.69377,6.78633 -7.69377,7.99957 0,0.39232 2.46067,3.10696 5.46815,6.03251 3.00748,2.92557 5.46814,5.93929 5.46814,6.69717 0,2.01703 -4.77151,9.24085 -6.46082,9.78137 -0.79661,0.25488 -4.65475,-0.99578 -8.57363,-2.77925 -3.91889,-1.78348 -7.57329,-3.06339 -8.12088,-2.84424 -0.5476,0.21916 -2.02091,2.31581 -3.27403,4.65922 l -2.27839,4.26075 2.35343,1.98155 c 1.29437,1.08985 4.26767,3.30417 6.60733,4.9207 2.7282,1.885 4.25392,3.60958 4.25392,4.80842 0,2.61009 -4.34717,10.90999 -5.71423,10.90999 -0.61971,0 -3.99491,-0.81911 -7.50045,-1.82025 -8.68813,-2.48122 -9.13703,-2.40505 -10.83733,1.83867 -2.44758,6.10883 -2.17155,6.59867 5.82487,10.33667 8.03812,3.75751 8.24051,4.12993 6.10963,11.24303 -1.75022,5.84244 -2.13973,6.0227 -10.808,5.00134 -6.19117,-0.72949 -7.79387,-0.66162 -8.62108,0.36505 -1.44987,1.79943 -2.39635,9.65067 -1.24879,10.35893 0.51518,0.31798 4.00869,1.30138 7.76337,2.18535 4.31644,1.01623 7.1371,2.18647 7.6709,3.18253 0.84205,1.57124 -0.0385,11.39312 -1.11802,12.4712 -0.3065,0.3061 -3.34849,0.73992 -6.75999,0.96406 -9.80494,0.6442 -9.99362,0.72891 -10.64194,4.77782 -0.31627,1.97519 -0.19782,4.58206 0.26323,5.79306 0.76866,2.01902 1.46518,2.24473 8.38951,2.71869 9.22969,0.63176 10.10393,1.46628 9.72232,9.2805 l -0.26547,5.43596 -4.10111,1.11064 c -2.25561,0.61085 -5.89831,1.57486 -8.0949,2.14224 l -3.9938,1.03162 0.52377,5.06784 c 0.28805,2.78732 0.8658,5.40944 1.28387,5.82694 0.41806,0.4175 4.02531,0.39341 8.0161,-0.0536 3.99079,-0.44693 7.84781,-0.48186 8.57114,-0.0776 1.42341,0.79549 3.68253,7.36609 3.70492,10.77565 0.0115,1.76075 -1.25791,2.69334 -7.7327,5.68066 -4.2606,1.96574 -7.74654,3.76691 -7.74654,4.00261 0,0.57237 3.73137,10.51253 3.93875,10.49261 0.0893,-0.008 3.23819,-0.82067 6.99754,-1.80465 10.14948,-2.65655 10.20861,-2.64043 13.19422,3.59776 3.04978,6.37223 3.06739,6.33408 -5.49721,11.90659 -3.23087,2.10214 -5.87429,4.20387 -5.87429,4.6705 0,1.21608 2.71549,6.40197 4.29626,8.20478 1.24685,1.42196 1.83093,1.3086 8.2061,-1.59272 3.77503,-1.71801 7.40887,-3.12365 8.07521,-3.12365 1.53487,0 7.67449,7.9546 7.67449,9.94321 0,0.81968 -2.46066,3.92202 -5.46813,6.8941 -3.00748,2.97207 -5.46815,5.83522 -5.46815,6.36255 0,1.61428 5.51402,7.74439 6.96606,7.74439 0.75087,0 3.95144,-1.843 7.11241,-4.09557 3.16095,-2.25255 6.29474,-4.09556 6.96399,-4.09556 1.62314,0 9.03233,7.3201 9.03233,8.92373 0,0.69505 -2.05203,4.17238 -4.56006,7.7274 l -4.56006,6.46366 2.90959,2.99786 c 4.72452,4.86789 5.63916,4.75792 12.12048,-1.45734 3.17896,-3.04848 6.08056,-5.54268 6.448,-5.54268 1.79424,0 10.42598,6.65465 10.42598,8.03792 0,0.86336 -1.43539,4.56085 -3.18975,8.21664 -1.75436,3.65579 -3.18975,6.81316 -3.18975,7.01637 0,0.49227 6.42365,4.46944 8.38328,5.19048 1.15718,0.42577 2.57468,-0.86707 5.61363,-5.12002 6.17825,-8.64633 6.10555,-8.61385 12.47525,-5.57352 6.23087,2.97405 6.33518,3.32922 3.60263,12.26626 -0.99483,3.25369 -1.81193,6.39833 -1.81575,6.98807 -0.006,0.93899 9.88856,5.32424 10.48755,4.64803 0.12645,-0.14276 1.92259,-3.63839 3.99144,-7.76808 2.06884,-4.12969 4.20648,-7.50852 4.75029,-7.50852 2.91862,0 10.96553,3.087 11.72085,4.49642 0.48195,0.89931 0.74089,1.79136 0.57542,1.98232 -0.16548,0.19095 -0.57384,3.47257 -0.90748,7.29248 -0.68371,7.82789 -0.85227,7.60687 6.54923,8.58739 l 4.38759,0.58125 2.25476,-8.05696 2.25476,-8.05697 6.08255,0 c 3.50683,0 6.54427,0.46125 7.17287,1.08921 0.59967,0.59907 1.28611,4.28507 1.52545,8.19113 0.23933,3.90605 0.84452,7.61386 1.34487,8.23957 0.50035,0.62571 2.85984,1.13765 5.24332,1.13765 2.38348,0 4.73825,-0.51194 5.23284,-1.13765 z\"\n     id=\"gear-B\"\n     inkscape:connector-curvature=\"0\">\n  </path>\n  <path\n     id=\"gear-A\"\n     style=\"fill:#ff6584;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:0;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none\"\n     d=\"m 299.8116,343.84392 c 22.58158,-0.28673 42.62107,15.91793 46.43184,38.83342 4.20497,25.28611 -12.94871,49.21058 -38.28321,53.4075 -25.33444,4.19684 -49.29925,-12.93246 -53.50423,-38.2185 -4.20497,-25.28607 12.94867,-49.21043 38.2832,-53.40749 2.37512,-0.39345 4.73639,-0.58552 7.0724,-0.61493 z m -9.90136,-41.04722 c -0.60003,-0.0462 -1.28509,0.042 -1.96797,0.21523 -1.36561,0.34605 -0.74081,0.21174 -2.12172,0.49195 -1.38076,0.28056 -2.63729,0.86373 -2.89046,1.78333 -0.51441,1.86727 3.07706,15.4993 2.39847,17.2183 -0.32994,0.83581 -2.72912,1.43754 -7.3184,3.0747 -4.58927,1.63712 -6.68027,2.67155 -7.47214,2.24452 -1.62863,-0.87866 -7.65745,-13.62998 -9.25562,-14.7278 -0.78725,-0.54035 -2.14547,-0.18147 -3.38245,0.49196 -1.2372,0.67338 -0.66918,0.37069 -1.93722,0.9839 -1.26811,0.61303 -2.31994,1.5371 -2.33697,2.49051 -0.0346,1.93613 6.81083,14.21663 6.58041,16.04992 -0.11188,0.89143 -2.53063,1.70518 -4.55094,3.47441 -2.02037,1.76914 -3.15897,4.04337 -4.05894,4.02785 -1.85076,-0.031 -13.08056,-8.55378 -15.00579,-8.79363 -0.94791,-0.11784 -1.98033,0.80155 -2.76746,1.9678 -0.78749,1.16614 -0.41786,0.65622 -1.26073,1.78332 -0.8428,1.1271 -1.37787,2.40483 -0.95323,3.25919 0.86287,1.73423 12.80727,9.96526 13.28381,11.25339 0.47647,1.28815 -1.01754,2.73798 -3.29021,7.04106 -2.2727,4.30309 -3.21396,6.58718 -4.08969,6.79508 -1.80085,0.42728 -14.77217,-5.04067 -16.69701,-4.79653 -0.94767,0.12044 -1.7409,1.25801 -2.21397,2.58274 -0.47319,1.32481 -0.23226,0.72886 -0.76874,2.0293 -0.53682,1.30054 -0.7465,2.6904 -0.123,3.41292 1.26661,1.46669 14.59995,6.07397 15.65153,7.5945 0.51136,0.73946 -0.78853,2.96102 -1.81422,5.90342 -1.02576,2.94225 -0.28405,5.36402 -0.95324,5.96491 -1.37605,1.2361 -15.40104,2.6477 -16.97376,3.78188 -0.77423,0.55826 -0.8966,1.96249 -0.67649,3.35142 0.22038,1.38907 0.124,0.75412 0.27675,2.15229 0.15266,1.3982 0.64338,2.70764 1.53748,3.04395 1.8156,0.68227 15.72087,-1.63188 17.3735,-0.79942 0.80366,0.40467 1.15429,2.68426 2.42921,7.37927 1.27487,4.69485 2.15951,7.00051 1.66048,7.74824 -1.02604,1.53782 -14.28661,6.35271 -15.52853,7.84048 -0.61148,0.73269 -0.40454,2.12156 0.15375,3.41291 0.5583,1.2912 0.33496,0.71274 0.83024,2.0293 0.49527,1.31689 1.295,2.4475 2.24472,2.552 1.92843,0.2118 14.82773,-5.47072 16.63551,-5.07325 0.87917,0.19321 1.76042,3.96281 3.0442,5.71894 1.28374,1.75613 3.80471,4.33238 3.7207,5.22698 -0.17242,1.83943 -9.54582,12.36894 -9.93211,14.2666 -0.19012,0.93446 0.67843,2.04852 1.78348,2.92096 1.10508,0.87255 0.59872,0.45885 1.66047,1.38362 1.06173,0.92472 2.31213,1.55663 3.19796,1.19913 1.79833,-0.72641 10.45794,-11.85419 12.23832,-12.36028 0.86572,-0.24574 2.67016,1.22284 6.79566,3.81262 4.12559,2.58975 6.31662,3.69382 6.4574,4.5813 0.28989,1.82478 -6.15483,14.33104 -6.05766,16.26514 0.0477,0.95243 1.14175,1.82639 2.42922,2.39827 1.28735,0.57186 0.70971,0.28937 1.96797,0.92241 1.25834,0.63333 2.61314,0.9346 3.38245,0.36896 1.56188,-1.1486 7.19508,-14.07372 8.79437,-15.00452 0.77766,-0.45259 2.87049,0.947 6.14991,2.15229 3.27936,1.2053 5.78321,0.80442 6.30366,1.53734 1.07057,1.50731 0.8369,15.58944 1.78348,17.27981 0.466,0.8322 1.85165,1.13351 3.25945,1.07614 1.40794,-0.0568 0.74338,-0.0708 2.15247,-0.0615 1.40915,0.0116 2.79036,-0.32114 3.22871,-1.16839 0.88927,-1.72095 0.17957,-15.76857 1.19923,-17.31054 0.49596,-0.74975 2.80601,-0.81718 7.62589,-1.53735 4.82002,-0.72029 7.21612,-1.31904 7.90264,-0.73793 1.41149,1.19549 4.69011,14.89244 6.02691,16.2959 0.65836,0.69108 2.06343,0.61934 3.4132,0.21522 1.34975,-0.40396 0.72336,-0.24554 2.09097,-0.58419 1.36792,-0.33855 2.61494,-0.97682 2.82896,-1.90631 0.43411,-1.8871 -3.74123,-15.34903 -3.13645,-17.09532 0.29418,-0.84916 2.85323,-1.09755 5.81166,-3.0132 2.95848,-1.91575 4.43322,-4.02936 5.31968,-3.87412 1.8233,0.31935 11.57341,10.47067 13.43755,11.00741 0.91819,0.26423 2.11483,-0.47724 3.07496,-1.5066 0.96033,-1.02924 0.49795,-0.58606 1.50673,-1.56809 1.00881,-0.98217 1.73118,-2.16487 1.44523,-3.0747 -0.58086,-1.84783 -10.98431,-11.34796 -11.34659,-13.1597 -0.17599,-0.88108 1.51968,-2.69215 4.48944,-6.54911 2.96981,-3.85698 4.14553,-5.83419 5.04292,-5.90341 1.84584,-0.14166 13.83542,7.28957 15.77453,7.34852 0.95513,0.0285 1.90839,-1.00989 2.58296,-2.24453 0.67457,-1.23481 0.3429,-0.67466 1.07624,-1.87557 0.73322,-1.20072 1.14876,-2.54076 0.64574,-3.35141 -1.02155,-1.64623 -13.46663,-8.26555 -14.2678,-9.93128 -0.38946,-0.80985 0.73563,-1.54376 1.75273,-5.74969 1.01715,-4.2058 0.38684,-6.68496 1.19923,-7.0718 1.67053,-0.79611 15.54331,1.84179 17.3735,1.19914 0.90116,-0.31665 1.41562,-1.6188 1.59898,-3.01321 0.18336,-1.39428 0.0879,-0.76829 0.33824,-2.15229 0.2508,-1.38421 0.14675,-2.77585 -0.61499,-3.35142 -1.5474,-1.16804 -15.5636,-2.88504 -16.91226,-4.15084 -0.65586,-0.61542 0.11023,-3.02618 -0.39974,-6.73359 -0.50993,-3.70729 -1.60185,-5.96607 -1.04549,-6.67209 1.1442,-1.45252 14.72644,-5.22507 16.08202,-6.6106 0.66728,-0.68229 0.54698,-2.08173 0.0922,-3.41292 -0.45433,-1.33109 -0.25595,-0.70838 -0.64574,-2.06004 -0.38981,-1.35135 -1.09099,-2.55766 -2.02947,-2.73648 -1.90577,-0.36317 -15.23371,4.28942 -17.0045,3.75113 -0.86113,-0.26174 -1.65864,-2.60545 -3.6592,-7.04105 -2.00046,-4.43575 -3.19251,-6.40364 -2.82896,-7.22555 0.7479,-1.69024 12.99126,-8.71501 13.9603,-10.39247 0.47704,-0.82628 0.033,-2.14354 -0.73799,-3.32067 -0.77106,-1.17717 -0.45505,-0.63195 -1.16848,-1.84483 -0.71318,-1.21267 -1.691,-2.21109 -2.64447,-2.15228 -1.93646,0.11998 -13.6793,7.92372 -15.52852,7.84047 -0.89927,-0.0402 -1.89527,-2.4087 -3.8437,-4.42755 -1.94843,-2.01882 -4.32161,-2.91744 -4.39719,-3.81263 -0.15567,-1.84106 7.21221,-13.83719 7.2569,-15.7732 0.0221,-0.95345 -1.03327,-1.88808 -2.27547,-2.552 -1.24199,-0.66407 -0.66716,-0.35313 -1.87572,-1.07614 -1.20871,-0.72307 -2.5741,-1.12305 -3.38245,-0.61494 -1.64203,1.03184 -8.17695,13.48538 -9.83986,14.29734 -0.8087,0.39454 -2.97806,-0.76232 -7.47215,-2.64424 -4.49412,-1.88208 -6.71505,-2.53363 -7.01089,-3.38217 -0.60813,-1.7452 3.51247,-15.17821 3.07495,-17.06457 -0.21588,-0.92895 -1.42982,-1.60095 -2.79821,-1.93706 -1.36838,-0.33588 -0.77103,-0.18291 -2.12172,-0.58419 -1.35009,-0.40145 -2.7562,-0.44623 -3.4132,0.24598 -1.33409,1.4058 -4.55617,15.09769 -5.96541,16.29589 -0.68532,0.58247 -3.03122,-0.43718 -5.96542,-0.55344 -2.93424,-0.11635 -5.30451,0.82484 -5.96541,0.21523 -1.35951,-1.25415 -4.04398,-15.0829 -5.31968,-16.54188 -0.31422,-0.35916 -0.81444,-0.53808 -1.41448,-0.58419 z\"\n     inkscape:connector-curvature=\"0\">\n  </path>\n</svg>",
        "clickableShapes": [],
        "javascriptHandlers": [],
        "smilAnimations": [
            {
                "id": "rotate_gearA",
                "targetId": "gear-A",
                "classValue": "",
                "attributeName": "transform",
                "transformType": "rotate",
                "fromValue": "0,300,390",
                "toValue": "360,300,390",
                "trigger": "time",
                "duration": "10",
                "durationUnit": "s",
                "repeatCount": "0",
                "end": "restore",
                "delay": "1005",
                "delayUnit": "ms",
                "custom": ""
            },
            {
                "id": "rotate_gearB",
                "targetId": "gear-B",
                "classValue": "",
                "attributeName": "transform",
                "transformType": "rotate",
                "fromValue": "360,300,300",
                "toValue": "0,300,300",
                "trigger": "time",
                "duration": "21176",
                "durationUnit": "ms",
                "repeatCount": "0",
                "end": "restore",
                "delay": "1",
                "delayUnit": "s",
                "custom": ""
            }
        ],
        "bindings": [],
        "showCoordinates": true,
        "autoFormatAfterEdit": false,
        "showBrowserErrors": false,
        "showBrowserEvents": false,
        "enableJsDebugging": false,
        "sendMsgWhenLoaded": false,
        "noClickWhenDblClick": false,
        "outputField": "payload",
        "editorUrl": "http://drawsvg.org/drawsvg.html",
        "directory": "",
        "panning": "disabled",
        "zooming": "disabled",
        "panOnlyWhenZoomed": false,
        "doubleClickZoomEnabled": false,
        "mouseWheelZoomEnabled": false,
        "dblClickZoomPercentage": "150",
        "cssString": "div.ui-svg svg{\n    color: var(--nr-dashboard-widgetColor);\n    fill: currentColor !important;\n}\ndiv.ui-svg path {\n    fill: inherit;\n}",
        "name": "",
        "x": 480,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "d668ae66952f3da2",
        "type": "function",
        "z": "522db9cc3c903c3e",
        "name": "path797",
        "func": "msg.payload = {\n   \"command\": \"set_attribute\",\n   \"selector\": \"#path797\",\n   \"attributeName\": \"rotate\",\n   \"attributeValue\": \"180\",\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 940,
        "wires": [
            [
                "94711173c709c560",
                "c88a8e8518ae7a56"
            ]
        ]
    },
    {
        "id": "4e6e1448.6e2acc",
        "type": "debug",
        "z": "522db9cc3c903c3e",
        "name": "Floorplan output",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 680,
        "y": 1240,
        "wires": []
    },
    {
        "id": "135dd5c9.59cd2a",
        "type": "ui_svg_graphics",
        "z": "522db9cc3c903c3e",
        "group": "d4b5416a.9c25f",
        "order": 1,
        "width": "14",
        "height": "10",
        "svgString": "<svg preserveAspectRatio=\"none\" x=\"0\" y=\"0\" viewBox=\"0 0 900 710\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:svg=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n  <image width=\"889\" height=\"703\" id=\"background\" xlink:href=\"https://www.roomsketcher.com/wp-content/uploads/2016/10/1-Bedroom-Floor-Plans.jpg\" />\n  <text id=\"banner\" x=\"10\" y=\"16\" fill=\"black\" stroke=\"black\" font-size=\"35\" text-anchor=\"left\" alignment-baseline=\"middle\" stroke-width=\"1\">This is the #banner</text>\n  <circle id=\"pir_living\" cx=\"310\" cy=\"45\" r=\"5\" stroke-width=\"0\" fill=\"#FF0000\" />\n  <text id=\"camera_living\" x=\"310\" y=\"45\" font-family=\"FontAwesome\" fill=\"grey\" stroke=\"black\" font-size=\"35\" text-anchor=\"middle\" alignment-baseline=\"middle\" stroke-width=\"1\"></text>\n</svg> ",
        "clickableShapes": [
            {
                "targetId": "#camera_living",
                "action": "click",
                "payload": "camera_living",
                "payloadType": "str",
                "topic": "camera_living"
            }
        ],
        "javascriptHandlers": [],
        "smilAnimations": [],
        "bindings": [
            {
                "selector": "#banner",
                "bindSource": "payload.title",
                "bindType": "text",
                "attribute": ""
            },
            {
                "selector": "#camera_living",
                "bindSource": "payload.position.x",
                "bindType": "attr",
                "attribute": "x"
            },
            {
                "selector": "#camera_living",
                "bindSource": "payload.camera.colour",
                "bindType": "attr",
                "attribute": "fill"
            }
        ],
        "showCoordinates": false,
        "autoFormatAfterEdit": false,
        "showBrowserErrors": false,
        "showBrowserEvents": false,
        "enableJsDebugging": false,
        "sendMsgWhenLoaded": false,
        "noClickWhenDblClick": false,
        "outputField": "",
        "editorUrl": "http://drawsvg.org/drawsvg.html",
        "directory": "",
        "panning": "disabled",
        "zooming": "disabled",
        "panOnlyWhenZoomed": false,
        "doubleClickZoomEnabled": false,
        "mouseWheelZoomEnabled": false,
        "dblClickZoomPercentage": "150",
        "cssString": "div.ui-svg svg{\n    color: var(--nr-dashboard-widgetColor);\n    fill: currentColor !important;\n}\ndiv.ui-svg path {\n    fill: inherit;\n}",
        "name": "",
        "x": 480,
        "y": 1240,
        "wires": [
            [
                "4e6e1448.6e2acc"
            ]
        ]
    },
    {
        "id": "2fc1c8e6.b48e18",
        "type": "inject",
        "z": "522db9cc3c903c3e",
        "name": "databind",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "databind",
        "payload": "{\"camera\":{\"colour\":\"yellow\"},\"position\":{\"x\":320},\"title\":\"databind strikes again\"}",
        "payloadType": "json",
        "x": 100,
        "y": 1380,
        "wires": [
            [
                "135dd5c9.59cd2a"
            ]
        ]
    },
    {
        "id": "3367d220.c43b0e",
        "type": "inject",
        "z": "522db9cc3c903c3e",
        "name": "databind",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "databind",
        "payload": "{\"camera\":{\"colour\":\"green\"},\"position\":{\"x\":250},\"title\":\"New banner title by databind\"}",
        "payloadType": "json",
        "x": 100,
        "y": 1340,
        "wires": [
            [
                "135dd5c9.59cd2a"
            ]
        ]
    },
    {
        "id": "97fd3117.1e4e3",
        "type": "inject",
        "z": "522db9cc3c903c3e",
        "name": "Fill camera green + rotate 90",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"command\":\"update_attribute\",\"selector\":\"#camera_living\",\"attributeName\":\"fill\",\"attributeValue\":\"green\"},{\"command\":\"set_attribute\",\"selector\":\"#camera_living\",\"attributeName\":\"rotate\",\"attributeValue\":\"90\"}]",
        "payloadType": "json",
        "x": 160,
        "y": 1200,
        "wires": [
            [
                "135dd5c9.59cd2a"
            ]
        ]
    },
    {
        "id": "5bbcfbfe.f0d834",
        "type": "inject",
        "z": "522db9cc3c903c3e",
        "name": "Fill camera orange + rotate 180",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"command\":\"update_attribute\",\"selector\":\"#camera_living\",\"attributeName\":\"fill\",\"attributeValue\":\"orange\"},{\"command\":\"set_attribute\",\"selector\":\"#camera_living\",\"attributeName\":\"rotate\",\"attributeValue\":\"180\"}]",
        "payloadType": "json",
        "x": 170,
        "y": 1240,
        "wires": [
            [
                "135dd5c9.59cd2a"
            ]
        ]
    },
    {
        "id": "52db2b3d.e23494",
        "type": "inject",
        "z": "522db9cc3c903c3e",
        "name": "Fill camera icon blue",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[{\"command\":\"update_attribute\",\"selector\":\"#camera_living\",\"attributeName\":\"fill\",\"attributeValue\":\"blue\"},{\"command\":\"set_attribute\",\"selector\":\"#camera_living\",\"attributeName\":\"rotate\",\"attributeValue\":\"0\"}]",
        "payloadType": "json",
        "x": 130,
        "y": 1160,
        "wires": [
            [
                "135dd5c9.59cd2a"
            ]
        ]
    },
    {
        "id": "94711173c709c560",
        "type": "debug",
        "z": "522db9cc3c903c3e",
        "name": "Floorplan output",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 640,
        "y": 960,
        "wires": []
    },
    {
        "id": "6b71eb271391d336",
        "type": "inject",
        "z": "522db9cc3c903c3e",
        "name": "",
        "props": [
            {
                "p": "topic",
                "v": "",
                "vt": "date"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 1000,
        "wires": [
            [
                "d668ae66952f3da2"
            ]
        ]
    },
    {
        "id": "4133f8e6964cec50",
        "type": "inject",
        "z": "522db9cc3c903c3e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 280,
        "y": 1080,
        "wires": [
            [
                "8d4bd674eebf870f"
            ]
        ]
    },
    {
        "id": "8d4bd674eebf870f",
        "type": "ui_template",
        "z": "522db9cc3c903c3e",
        "group": "925439b0.2863c8",
        "name": "",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "\n<script>\nfunction getSin (degree) {\n  return Math.sin((degree / 180) * Math.PI)\n}\nfunction getCos (degree) {\n  return Math.cos((degree / 180) * Math.PI)\n}\nvar square = document.querySelector('#path797')\nvar a = 0\nvar delta = -10\nsetInterval (() => {\n  a+=delta\n  var transformString = `transform: matrix(${getCos(a)}, ${getSin(a)}, ${getCos(90 + a)}, ${getSin(90 + a)}, 0, 0)`\n  square.setAttribute('style', transformString)\n}, 50)\n\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 460,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "740394bc3a7b43d4",
        "type": "function",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "func": "var arr = [];\nfor(var k = 0;k<4;k++){\n    arr.push(k);\n}\nmsg.payload = arr;\nmsg.limit = msg.payload.length;\nflow.set(\"counter\",0);\nmsg.counter = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 80,
        "wires": [
            [
                "7119979f62d62ec3"
            ]
        ]
    },
    {
        "id": "8a4c326d030fec5f",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 80,
        "wires": [
            [
                "740394bc3a7b43d4"
            ]
        ]
    },
    {
        "id": "7dc06eb718e8bb6b",
        "type": "debug",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1210,
        "y": 80,
        "wires": []
    },
    {
        "id": "7119979f62d62ec3",
        "type": "split",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "8d14cc209bc9e5af"
            ]
        ]
    },
    {
        "id": "2cb8bc8cc57b7a5d",
        "type": "change",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "rate",
                "pt": "msg",
                "to": "6000",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "b29758e9.9bc458",
        "type": "function",
        "z": "f395c43f6f7c28c6",
        "name": "Generate spike",
        "func": "node.send({payload: 1});\n\nvar interval = setInterval(function() {\n    clearInterval(interval);\n\tnode.send({payload: 0});\n}, msg.payload); \n\nreturn null;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 400,
        "wires": [
            [
                "be2e833a.873ad"
            ]
        ]
    },
    {
        "id": "faff9ee0.2ce6b",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "10 milliseconds",
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "10",
        "payloadType": "num",
        "x": 182.00007247924805,
        "y": 400.0000467300415,
        "wires": [
            [
                "b29758e9.9bc458"
            ]
        ]
    },
    {
        "id": "d6f39042.73dd3",
        "type": "debug",
        "z": "f395c43f6f7c28c6",
        "name": "Display interval",
        "active": true,
        "console": "false",
        "complete": "payload",
        "x": 789.0000648498535,
        "y": 399.3332977294922,
        "wires": []
    },
    {
        "id": "81dcfcdc.c637c",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "1 milliseconds",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 172.00003051757812,
        "y": 349,
        "wires": [
            [
                "b29758e9.9bc458"
            ]
        ]
    },
    {
        "id": "aa2397c6.1416b8",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "100 milliseconds",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "100",
        "payloadType": "num",
        "x": 179.00003051757812,
        "y": 452.66668701171875,
        "wires": [
            [
                "b29758e9.9bc458"
            ]
        ]
    },
    {
        "id": "be2e833a.873ad",
        "type": "interval-length",
        "z": "f395c43f6f7c28c6",
        "format": "mills",
        "bytopic": false,
        "minimum": "",
        "maximum": "",
        "window": "",
        "timeout": false,
        "msgTimeout": "",
        "minimumunit": "secs",
        "maximumunit": "msecs",
        "windowunit": "secs",
        "reset": false,
        "startup": false,
        "msgField": "payload",
        "timestampField": "timestamp",
        "repeatTimeout": false,
        "name": "",
        "x": 584.3333778381348,
        "y": 399.3333511352539,
        "wires": [
            [
                "d6f39042.73dd3"
            ],
            []
        ]
    },
    {
        "id": "e6f4e8d1.34d3e8",
        "type": "interval-length",
        "z": "f395c43f6f7c28c6",
        "format": "mills",
        "bytopic": false,
        "minimum": "",
        "maximum": "",
        "window": "",
        "timeout": false,
        "msgTimeout": "",
        "minimumunit": "msecs",
        "maximumunit": "msecs",
        "windowunit": "msecs",
        "msgTimeoutUnit": "msecs",
        "reset": true,
        "startup": false,
        "msgField": "payload",
        "timestampField": "timestamp",
        "repeatTimeout": false,
        "name": "",
        "x": 620,
        "y": 520,
        "wires": [
            [
                "60353310.88d95c"
            ],
            []
        ]
    },
    {
        "id": "ef1fc202.21f8f",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "Normal message",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 500,
        "wires": [
            [
                "e6f4e8d1.34d3e8"
            ]
        ]
    },
    {
        "id": "60353310.88d95c",
        "type": "debug",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 818,
        "y": 514,
        "wires": []
    },
    {
        "id": "5ea7c87a.c02488",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "Reset message",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 228,
        "y": 560,
        "wires": [
            [
                "dd66d070.e9ddc"
            ]
        ]
    },
    {
        "id": "dd66d070.e9ddc",
        "type": "change",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 428,
        "y": 560,
        "wires": [
            [
                "e6f4e8d1.34d3e8"
            ]
        ]
    },
    {
        "id": "713c5c3373faee7f",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "send 10",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10",
        "payloadType": "num",
        "x": 210,
        "y": 780,
        "wires": [
            [
                "7e78d6a151f90482"
            ]
        ]
    },
    {
        "id": "7e78d6a151f90482",
        "type": "function",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "func": "for (let index = 0; index < msg.payload; index++) {\n    node.status(index);\n    node.send(msg);    \n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 366,
        "y": 780,
        "wires": [
            [
                "6b8c3bd0ac34f33c"
            ]
        ]
    },
    {
        "id": "f8c37e9387308d6f",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "send 100",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "100",
        "payloadType": "num",
        "x": 222,
        "y": 812,
        "wires": [
            [
                "7e78d6a151f90482"
            ]
        ]
    },
    {
        "id": "4631dc7b1441743d",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "send 1000",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1000",
        "payloadType": "num",
        "x": 222,
        "y": 844,
        "wires": [
            [
                "7e78d6a151f90482"
            ]
        ]
    },
    {
        "id": "86444728cc6238c2",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "send 1000000",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1000000",
        "payloadType": "num",
        "x": 232,
        "y": 876,
        "wires": [
            [
                "7e78d6a151f90482"
            ]
        ]
    },
    {
        "id": "6b8c3bd0ac34f33c",
        "type": "debug",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 530,
        "y": 800,
        "wires": []
    },
    {
        "id": "b0b8b22c.dd0f6",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 240,
        "y": 980,
        "wires": [
            [
                "2dbeb200.2d534e"
            ]
        ]
    },
    {
        "id": "d9a532a2.d8d81",
        "type": "debug",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 570,
        "y": 980,
        "wires": []
    },
    {
        "id": "2dbeb200.2d534e",
        "type": "timeframerlt",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "throttleType": "reset",
        "timeLimit": "2",
        "timeLimitType": "seconds",
        "countLimit": "4",
        "byresetcountLimit": "4",
        "x": 410,
        "y": 980,
        "wires": [
            [
                "d9a532a2.d8d81"
            ]
        ]
    },
    {
        "id": "f596a515.6d8208",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 240,
        "y": 940,
        "wires": [
            [
                "4296a6a.3809758"
            ]
        ]
    },
    {
        "id": "4296a6a.3809758",
        "type": "change",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 400,
        "y": 940,
        "wires": [
            [
                "2dbeb200.2d534e"
            ]
        ]
    },
    {
        "id": "dc908823775f9d2a",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 240,
        "y": 1140,
        "wires": [
            [
                "4e8ee3b7472adfb5"
            ]
        ]
    },
    {
        "id": "23c682157e0c0211",
        "type": "debug",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 570,
        "y": 1140,
        "wires": []
    },
    {
        "id": "4e8ee3b7472adfb5",
        "type": "timeframerlt",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "throttleType": "count",
        "timeLimit": "2",
        "timeLimitType": "seconds",
        "countLimit": "4",
        "byresetcountLimit": "4",
        "x": 410,
        "y": 1140,
        "wires": [
            [
                "23c682157e0c0211"
            ]
        ]
    },
    {
        "id": "95daacd1.0e09f8",
        "type": "debug",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "active": true,
        "console": "false",
        "complete": "false",
        "x": 550,
        "y": 1260,
        "wires": []
    },
    {
        "id": "c136d3fd.21da78",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 79,
        "y": 1222,
        "wires": [
            [
                "fc58524d.34f02"
            ]
        ]
    },
    {
        "id": "fc58524d.34f02",
        "type": "function",
        "z": "f395c43f6f7c28c6",
        "name": "Slew rate limit 1 unit/second",
        "func": "// Limits the slew rate incoming payload values\n// optionally sending intermediate values at specified rate\nlet maxRate = 1;            // max slew rate units/second\nlet sendIntermediates = true;   // whether to send intermediate values\nlet period = 100;           // period in millisecs to send new values (if sendIntermediates)\nlet jumpThreshold = 2;      // if the step asked for is more that this then goes immediately to that value\n\nvar newValue = Number(msg.payload);\nvar timer = context.get('timer') || 0;\n// check the value is  a number\nif (!isNaN(newValue) && isFinite(newValue)) {\n    var target = msg.payload;\n    context.set('target', target);\n    // set last value to new one if first time through\n    var lastValue = context.get('lastValue');\n    if (typeof lastValue == \"undefined\" || lastValue === null) {\n        lastValue = newValue;\n        context.set('lastValue', newValue);\n    }\n    // calc new value\n    msg.payload = calcOutput();\n    // stop the timer\n    if (timer) {\n        clearTimeout(timer);\n        context.set('timer', null);\n    }\n    // restart it if required to send intermediate values\n    if (sendIntermediates) {\n        timer = setInterval(function(){\n            // the timer has run down calculate next value and send it\n            var newValue = calcOutput();\n            if (newValue != context.get('lastValueSent')) {\n                context.set('lastValueSent', newValue);\n                node.send({payload: newValue});\n            }\n        },period);\n        context.set('timer', timer);\n    }\n    context.set('lastValueSent', msg.payload);\n} else {\n    // payload is not a number so ignore it\n    // also stop the timer as we don't know what to send any more\n    if (timer) {\n        clearTimeout(timer);\n        context.set('timer', null);\n    }\n    msg = null;\n}\nreturn msg;\n\n// determines the required output value\nfunction calcOutput() {\n    var lastValue = context.get('lastValue');\n    var target = context.get('target');\n    // set to current value if first time through or step > threshold\n    if (typeof lastValue == \"undefined\" || lastValue === null) lastValue = target;\n    var now = new Date();\n    var lastTime = context.get('lastTime') || now;\n    // limit value to last value +- rate * time\n    var maxDelta = (now.getTime() - lastTime.getTime()) * maxRate/1000;\n    if (Math.abs(target - lastValue) > jumpThreshold) {\n        // step > threshold so go there imediately\n        newValue = target;\n    } else if (target > lastValue) {\n        newValue = Math.min( lastValue + maxDelta, target);\n    } else {\n        newValue = Math.max( lastValue - maxDelta, target);\n    }\n    context.set('lastValue', newValue);\n    context.set('lastTime', now);   \n    return newValue;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 331,
        "y": 1260,
        "wires": [
            [
                "95daacd1.0e09f8"
            ]
        ]
    },
    {
        "id": "1501600b.8cd8d",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 79,
        "y": 1299,
        "wires": [
            [
                "fc58524d.34f02"
            ]
        ]
    },
    {
        "id": "a46ee04e.b1a9b8",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "open",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "OPEN",
        "payloadType": "str",
        "x": 270,
        "y": 1340,
        "wires": [
            [
                "c54e919c.18d7f"
            ]
        ]
    },
    {
        "id": "c54e919c.18d7f",
        "type": "q-gate",
        "z": "f395c43f6f7c28c6",
        "name": "q-gate demo",
        "controlTopic": "control",
        "defaultState": "open",
        "openCmd": "open",
        "closeCmd": "close",
        "toggleCmd": "toggle",
        "queueCmd": "queue",
        "defaultCmd": "default",
        "triggerCmd": "trigger",
        "flushCmd": "flush",
        "resetCmd": "reset",
        "peekCmd": "peek",
        "dropCmd": "drop",
        "statusCmd": "status",
        "maxQueueLength": "0",
        "keepNewest": false,
        "qToggle": false,
        "persist": false,
        "x": 510,
        "y": 1560,
        "wires": [
            [
                "d2740316.7035c"
            ]
        ]
    },
    {
        "id": "c04db5ad.da76b8",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "input",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 230,
        "y": 1560,
        "wires": [
            [
                "c54e919c.18d7f"
            ]
        ]
    },
    {
        "id": "287fae2e.cb245a",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "toggle",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "toggle",
        "payloadType": "str",
        "x": 270,
        "y": 1420,
        "wires": [
            [
                "c54e919c.18d7f"
            ]
        ]
    },
    {
        "id": "8fd8943b.e60c28",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "close",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "close",
        "payloadType": "str",
        "x": 270,
        "y": 1380,
        "wires": [
            [
                "c54e919c.18d7f"
            ]
        ]
    },
    {
        "id": "44541499.4ac23c",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "default",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "default",
        "payloadType": "str",
        "x": 270,
        "y": 1460,
        "wires": [
            [
                "c54e919c.18d7f"
            ]
        ]
    },
    {
        "id": "92b01a9d.669a58",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "queue",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "queue",
        "payloadType": "str",
        "x": 270,
        "y": 1620,
        "wires": [
            [
                "c54e919c.18d7f"
            ]
        ]
    },
    {
        "id": "5f8708d.abc59f8",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "flush",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "flush",
        "payloadType": "str",
        "x": 270,
        "y": 1700,
        "wires": [
            [
                "c54e919c.18d7f"
            ]
        ]
    },
    {
        "id": "fb8c7d0f.40eec",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "trigger",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "trigger",
        "payloadType": "str",
        "x": 190,
        "y": 1660,
        "wires": [
            [
                "c54e919c.18d7f"
            ]
        ]
    },
    {
        "id": "b7688480.6338",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "reset",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "reset",
        "payloadType": "str",
        "x": 270,
        "y": 1740,
        "wires": [
            [
                "c54e919c.18d7f"
            ]
        ]
    },
    {
        "id": "44127021.988758",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "peek",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "peek",
        "payloadType": "str",
        "x": 270,
        "y": 1780,
        "wires": [
            [
                "c54e919c.18d7f"
            ]
        ]
    },
    {
        "id": "cc39c2df.44d0b8",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "drop",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "drop",
        "payloadType": "str",
        "x": 270,
        "y": 1820,
        "wires": [
            [
                "c54e919c.18d7f"
            ]
        ]
    },
    {
        "id": "a94f3db7.55ae18",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "status",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "status",
        "payloadType": "str",
        "x": 190,
        "y": 1500,
        "wires": [
            [
                "c54e919c.18d7f"
            ]
        ]
    },
    {
        "id": "d2740316.7035c",
        "type": "debug",
        "z": "f395c43f6f7c28c6",
        "name": "output",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 670,
        "y": 1560,
        "wires": []
    },
    {
        "id": "ae120d0f.ade318",
        "type": "status",
        "z": "f395c43f6f7c28c6",
        "name": "q-gate status",
        "scope": null,
        "x": 510,
        "y": 1620,
        "wires": [
            [
                "ea4d90f9.61a5b"
            ]
        ]
    },
    {
        "id": "ea4d90f9.61a5b",
        "type": "debug",
        "z": "f395c43f6f7c28c6",
        "name": "status text",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "status.text",
        "targetType": "msg",
        "x": 670,
        "y": 1620,
        "wires": []
    },
    {
        "id": "b02773c1.e266b8",
        "type": "debug",
        "z": "f395c43f6f7c28c6",
        "name": "output",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 590,
        "y": 2160,
        "wires": []
    },
    {
        "id": "99687dff.3ddd7",
        "type": "q-gate",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "controlTopic": "control",
        "defaultState": "queueing",
        "openCmd": "open",
        "closeCmd": "close",
        "toggleCmd": "toggle",
        "queueCmd": "queue",
        "defaultCmd": "default",
        "triggerCmd": "trigger",
        "flushCmd": "flush",
        "resetCmd": "reset",
        "peekCmd": "peek",
        "dropCmd": "drop",
        "statusCmd": "status",
        "maxQueueLength": "1",
        "keepNewest": true,
        "qToggle": false,
        "persist": false,
        "x": 460,
        "y": 2160,
        "wires": [
            [
                "b02773c1.e266b8"
            ]
        ]
    },
    {
        "id": "c18d22cc.a63ca",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "open",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "open",
        "payloadType": "str",
        "x": 270,
        "y": 2020,
        "wires": [
            [
                "99687dff.3ddd7"
            ]
        ]
    },
    {
        "id": "f8668471.4f45f8",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "input",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 2160,
        "wires": [
            [
                "99687dff.3ddd7"
            ]
        ]
    },
    {
        "id": "56c10d38.aa25c4",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "trigger",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "trigger",
        "payloadType": "str",
        "x": 270,
        "y": 2100,
        "wires": [
            [
                "99687dff.3ddd7"
            ]
        ]
    },
    {
        "id": "c6fce5f0.0ad3b8",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "flush",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "flush",
        "payloadType": "str",
        "x": 270,
        "y": 2060,
        "wires": [
            [
                "99687dff.3ddd7"
            ]
        ]
    },
    {
        "id": "5d45eb15.7a02e4",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "queue",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "queue",
        "payloadType": "str",
        "x": 270,
        "y": 2220,
        "wires": [
            [
                "99687dff.3ddd7"
            ]
        ]
    },
    {
        "id": "8bc7606f.d8fed",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "default",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "control",
        "payload": "default",
        "payloadType": "str",
        "x": 270,
        "y": 2260,
        "wires": [
            [
                "99687dff.3ddd7"
            ]
        ]
    },
    {
        "id": "ece85e2eb05924c9",
        "type": "debug",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 950,
        "y": 80,
        "wires": []
    },
    {
        "id": "8d14cc209bc9e5af",
        "type": "delay",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "5",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": true,
        "outputs": 1,
        "x": 580,
        "y": 80,
        "wires": [
            [
                "6471879175d29e6a",
                "463fca9c6af07145"
            ]
        ]
    },
    {
        "id": "6471879175d29e6a",
        "type": "function",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "func": "if (typeof msg.payload !== \"undefined\") {\nif (msg.payload == 1){\n    msg = {};\n    msg.rate =10000;\n    return msg;\n}else if(msg.payload <4){\n    msg = {};\n    msg.rate =4000;\n    return msg;\n}\n}else{\n    msg.reset = true;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 140,
        "wires": [
            [
                "8d14cc209bc9e5af"
            ]
        ]
    },
    {
        "id": "68989b4bed853ae4",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "clear stack",
        "props": [
            {
                "p": "reset",
                "v": "true",
                "vt": "bool"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 150,
        "y": 160,
        "wires": [
            [
                "a96d45308d6ace84"
            ]
        ]
    },
    {
        "id": "463fca9c6af07145",
        "type": "function",
        "z": "f395c43f6f7c28c6",
        "name": "!== \"undefined\"",
        "func": "if (typeof msg.payload !== \"undefined\") {\n    flow.set(\"stop\",false);\n\n    return msg;\n\n}else{\n    flow.set(\"stop\",true);\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 80,
        "wires": [
            [
                "ece85e2eb05924c9"
            ]
        ]
    },
    {
        "id": "a96d45308d6ace84",
        "type": "function",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "func": "var stop = flow.get(\"stop\");\nif (stop==true){\nreturn msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 160,
        "wires": [
            [
                "8d14cc209bc9e5af"
            ]
        ]
    },
    {
        "id": "99b2e027.7494a",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 460,
        "y": 280,
        "wires": [
            [
                "f5f8c8c0.b1a348",
                "81508202.55d92"
            ]
        ]
    },
    {
        "id": "f5f8c8c0.b1a348",
        "type": "delay",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "pauseType": "rate",
        "timeout": "20",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "23",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 697,
        "y": 283,
        "wires": [
            []
        ]
    },
    {
        "id": "81508202.55d92",
        "type": "delay",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "pauseType": "timed",
        "timeout": "20",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "23",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 712,
        "y": 330,
        "wires": [
            []
        ]
    },
    {
        "id": "ec3a1be6efb34273",
        "type": "inject",
        "z": "f395c43f6f7c28c6",
        "name": "",
        "props": [
            {
                "p": "reset",
                "v": "true",
                "vt": "bool"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 90,
        "y": 200,
        "wires": [
            [
                "8d14cc209bc9e5af"
            ]
        ]
    },
    {
        "id": "d365d02956b1c509",
        "type": "ui_template",
        "z": "f981d8724eca6398",
        "group": "fefa83232b74a478",
        "name": "top-bar logo",
        "order": 3,
        "width": 0,
        "height": 0,
        "format": "<style>\n    #top-bar-logo {\n    background-image: url('/myImage.png');\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center;\n    height: 100%;\n    width: 100%;\n}\n</style>\n\n<script id=\"logo-script\" type=\"text/javascript\">\nfunction build(){\n    $(\"#top-bar-logo\").remove()\n    var logo = $('<div />').attr(\"id\",\"top-bar-logo\");\n    var topbar = $('.md-toolbar-tools');\n    topbar.append(logo)\n}\nfunction checkExistence(){\n    console.log($(\"#top-bar-logo\"))\n    if($(\"#top-bar-logo\").length > 0){\n        return\n    }\n    build()\n    setTimeout(checkExistence,100)\n}\n\nbuild()\nsetTimeout(checkExistence,100)\n</script>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 530,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "ffb6cc1c011825db",
        "type": "inject",
        "z": "f981d8724eca6398",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 120,
        "wires": [
            [
                "d365d02956b1c509"
            ]
        ]
    },
    {
        "id": "dc37c4419d619b38",
        "type": "debug",
        "z": "0f8569b63939f001",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 120,
        "wires": []
    },
    {
        "id": "063af9ea2764674d",
        "type": "inject",
        "z": "0f8569b63939f001",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 360,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "fd2d7768.345b98",
        "type": "inject",
        "z": "b7fadf2d62e71994",
        "name": "msg.payload = \"Red\"",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Red",
        "payloadType": "str",
        "x": 360,
        "y": 140,
        "wires": [
            [
                "320b54d6.e604d4"
            ]
        ]
    },
    {
        "id": "676a128f.8a03dc",
        "type": "debug",
        "z": "b7fadf2d62e71994",
        "name": "msg.result = RedRedRedRedRed",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "result",
        "targetType": "msg",
        "x": 850,
        "y": 140,
        "wires": []
    },
    {
        "id": "5d19cb24.ac3444",
        "type": "change",
        "z": "b7fadf2d62e71994",
        "name": "msg.result = msg.result + msg.payload",
        "rules": [
            {
                "t": "set",
                "p": "result",
                "pt": "msg",
                "to": "$join([msg.result, msg.payload])",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 220,
        "wires": [
            [
                "97b35eee9a2ee3f0",
                "7c60f55e4c22385a"
            ]
        ]
    },
    {
        "id": "1a60a19a.718526",
        "type": "array-loop",
        "z": "b7fadf2d62e71994",
        "name": "array-loop",
        "key": "al1a60a19a718526",
        "keyType": "msg",
        "reset": false,
        "resetValue": "value-null",
        "array": "array",
        "arrayType": "msg",
        "x": 860,
        "y": 335,
        "wires": [
            [
                "2a06fe8f.883d92"
            ],
            [
                "a9176a45.c66998"
            ]
        ]
    },
    {
        "id": "122377f3.e507f8",
        "type": "inject",
        "z": "b7fadf2d62e71994",
        "name": "msg.payload = \"A, B, C, D, E\"",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "setting",
                "v": "12345",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "A, B, C, D, E",
        "payloadType": "str",
        "x": 200,
        "y": 320,
        "wires": [
            [
                "c129d4e9.65ec6"
            ]
        ]
    },
    {
        "id": "2a06fe8f.883d92",
        "type": "debug",
        "z": "b7fadf2d62e71994",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1130,
        "y": 280,
        "wires": []
    },
    {
        "id": "c129d4e9.65ec6",
        "type": "change",
        "z": "b7fadf2d62e71994",
        "name": "split msg.payload by \", \"",
        "rules": [
            {
                "t": "set",
                "p": "array",
                "pt": "msg",
                "to": "$split(msg.payload, ', ')",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 320,
        "wires": [
            [
                "1a60a19a.718526"
            ]
        ]
    },
    {
        "id": "a72c351c.98ba48",
        "type": "function",
        "z": "b7fadf2d62e71994",
        "name": "return msg",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 400,
        "wires": [
            [
                "548c8549.cc9904",
                "1a60a19a.718526"
            ]
        ]
    },
    {
        "id": "548c8549.cc9904",
        "type": "debug",
        "z": "b7fadf2d62e71994",
        "name": "ok",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1010,
        "y": 480,
        "wires": []
    },
    {
        "id": "a9176a45.c66998",
        "type": "delay",
        "z": "b7fadf2d62e71994",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 740,
        "y": 400,
        "wires": [
            [
                "a72c351c.98ba48"
            ]
        ]
    },
    {
        "id": "320b54d6.e604d4",
        "type": "counter-loop",
        "z": "b7fadf2d62e71994",
        "name": "counter-loop",
        "counter": "il320b54d6e604d4",
        "counterType": "msg",
        "reset": false,
        "resetValue": "value-null",
        "initial": "0",
        "initialType": "num",
        "operator": "lt",
        "termination": "5",
        "terminationType": "num",
        "increment": 1,
        "incrementType": "num",
        "x": 585,
        "y": 140,
        "wires": [
            [
                "676a128f.8a03dc"
            ],
            [
                "5d19cb24.ac3444"
            ]
        ]
    },
    {
        "id": "1c8465fc.10e082",
        "type": "while-loop",
        "z": "b7fadf2d62e71994",
        "name": "while-loop",
        "condi": "msg.payload % 3 !== 0",
        "limit": false,
        "limitTime": "",
        "time": "wl1c8465fc10e082",
        "timeType": "msg",
        "x": 530,
        "y": 545,
        "wires": [
            [
                "b887c6d1.43c668"
            ],
            [
                "24b7b946.fcc9b6"
            ]
        ]
    },
    {
        "id": "7e4cca20.588e7c",
        "type": "inject",
        "z": "b7fadf2d62e71994",
        "name": "msg.payload = 5",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            },
            {
                "p": "setting",
                "v": "123",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "5",
        "payloadType": "num",
        "x": 180,
        "y": 560,
        "wires": [
            [
                "1c8465fc.10e082"
            ]
        ]
    },
    {
        "id": "b887c6d1.43c668",
        "type": "debug",
        "z": "b7fadf2d62e71994",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 540,
        "wires": []
    },
    {
        "id": "24b7b946.fcc9b6",
        "type": "change",
        "z": "b7fadf2d62e71994",
        "name": "msg.payload--",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$number(msg.payload) -1",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 700,
        "wires": [
            [
                "64d645c5.fe848c",
                "a72010f2.69313"
            ]
        ]
    },
    {
        "id": "64d645c5.fe848c",
        "type": "debug",
        "z": "b7fadf2d62e71994",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 920,
        "wires": []
    },
    {
        "id": "a72010f2.69313",
        "type": "delay",
        "z": "b7fadf2d62e71994",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 720,
        "y": 700,
        "wires": [
            [
                "1c8465fc.10e082"
            ]
        ]
    },
    {
        "id": "d5600b9a.fd9288",
        "type": "comment",
        "z": "b7fadf2d62e71994",
        "name": "msg.payload % 3 !== 0",
        "info": "",
        "x": 570,
        "y": 500,
        "wires": []
    },
    {
        "id": "84e545e14fc47cfc",
        "type": "inject",
        "z": "b7fadf2d62e71994",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "3",
        "payloadType": "num",
        "x": 330,
        "y": 420,
        "wires": [
            [
                "1c8465fc.10e082"
            ]
        ]
    },
    {
        "id": "02bad3a27ec9de4a",
        "type": "inject",
        "z": "b7fadf2d62e71994",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 240,
        "y": 400,
        "wires": [
            [
                "7fa3a26c06564597"
            ]
        ]
    },
    {
        "id": "7fa3a26c06564597",
        "type": "function",
        "z": "b7fadf2d62e71994",
        "name": "",
        "func": "var arr = [];\nfor(var k = 0;k<4;k++){\n    arr.push(k);\n}\nmsg.payload = arr;\nmsg.limit = msg.payload.length;\nflow.set(\"counter\",0);\nmsg.counter = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "bf1dc77f6586ac9b",
        "type": "split",
        "z": "b7fadf2d62e71994",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 470,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "7a79af5217042cf9",
        "type": "change",
        "z": "b7fadf2d62e71994",
        "name": "split msg.payload by \", \"",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "array",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "21e50d1388be7ffd",
        "type": "function",
        "z": "b7fadf2d62e71994",
        "name": "",
        "func": "var arr = [];\nfor(var k = 0;k<4;k++){\n    var str =  k.toString() +\" hahaha\";\n    arr.push(str);\n}\nmsg.payload = arr;\nmsg.limit = msg.payload.length;\nflow.set(\"counter\",0);\nmsg.counter = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 1200,
        "wires": [
            [
                "d4f4cdb27908e4b2"
            ]
        ]
    },
    {
        "id": "a6febf5673414fda",
        "type": "inject",
        "z": "b7fadf2d62e71994",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 300,
        "y": 1200,
        "wires": [
            [
                "21e50d1388be7ffd"
            ]
        ]
    },
    {
        "id": "d4f4cdb27908e4b2",
        "type": "split",
        "z": "b7fadf2d62e71994",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 690,
        "y": 1200,
        "wires": [
            [
                "87c0a637bc9db12b"
            ]
        ]
    },
    {
        "id": "87c0a637bc9db12b",
        "type": "debug",
        "z": "b7fadf2d62e71994",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 1280,
        "wires": []
    },
    {
        "id": "b53af150e9b59190",
        "type": "function",
        "z": "b7fadf2d62e71994",
        "name": "",
        "func": "var a1 = {};\na1.bien1 = 1;\na1.bien2 = 2;\na1.bien3 = \"Gieng1\";\n\nvar a2 = {};\na2.bien1 = 1;\na2.bien2 = 2;\na2.bien3 = \"Gieng2\";\n\nmsg.payload = [];\nmsg.payload.push(a1);\nmsg.payload.push(a2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 1320,
        "wires": [
            [
                "d4f4cdb27908e4b2"
            ]
        ]
    },
    {
        "id": "c5c2e535f91e6db5",
        "type": "inject",
        "z": "b7fadf2d62e71994",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 280,
        "y": 1340,
        "wires": [
            [
                "b53af150e9b59190"
            ]
        ]
    },
    {
        "id": "97b35eee9a2ee3f0",
        "type": "delay",
        "z": "b7fadf2d62e71994",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 780,
        "y": 180,
        "wires": [
            [
                "320b54d6.e604d4"
            ]
        ]
    },
    {
        "id": "7c60f55e4c22385a",
        "type": "debug",
        "z": "b7fadf2d62e71994",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 750,
        "y": 260,
        "wires": []
    },
    {
        "id": "3e215af62bff4e38",
        "type": "inject",
        "z": "3e929b10502c3829",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 220,
        "y": 180,
        "wires": [
            [
                "710ecd65c4f90cbf"
            ]
        ]
    },
    {
        "id": "710ecd65c4f90cbf",
        "type": "debug",
        "z": "3e929b10502c3829",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 430,
        "y": 180,
        "wires": []
    },
    {
        "id": "37f8f12e250179db",
        "type": "ui_numeric",
        "z": "3e929b10502c3829",
        "name": "",
        "label": "so  nhan",
        "tooltip": "",
        "group": "fefa83232b74a478",
        "order": 4,
        "width": 0,
        "height": 0,
        "wrap": false,
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "format": "{{value}}",
        "min": 0,
        "max": 10,
        "step": 1,
        "className": "",
        "x": 260,
        "y": 300,
        "wires": [
            [
                "05168a3141fa1bfb"
            ]
        ]
    },
    {
        "id": "05168a3141fa1bfb",
        "type": "debug",
        "z": "3e929b10502c3829",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 430,
        "y": 300,
        "wires": []
    }
]
